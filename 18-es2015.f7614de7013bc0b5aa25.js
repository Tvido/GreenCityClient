(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0nRF":function(t,e,n){"use strict";n.r(e),e.default=".image-container {\n  width: 100%;\n  height: 204px;\n  overflow: hidden;\n  position: relative;\n}\n.image-container .event-image {\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.image-container .event-stars {\n  width: 88px;\n  height: 40px;\n  background-color: rgba(224, 233, 233, 0.781);\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 5px;\n}\n.image-container .event-stars span {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n.image-container .event-stars .fill {\n  background: url('star-filled.2a3b3d3c0b010a415acb.png') no-repeat center;\n}\n.image-container .event-stars .empty {\n  background: url('Vector.1d470aae7f6ca782d083.png') no-repeat center;\n}\n.image-container .event-flags {\n  width: 40px;\n  height: 40px;\n  background-color: rgba(224, 233, 233, 0.781);\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.image-container .event-flags span {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n.image-container .event-flags .flag {\n  background: url('bookmark-set.aa47ea09c1f7874d271a.png') no-repeat center;\n}\n.image-container .event-title {\n  width: 100%;\n  background-color: rgba(26, 27, 27, 0.247);\n  color: beige;\n  text-align: center;\n  position: absolute;\n  bottom: 0;\n}\n.main-container {\n  padding: 16px 24px;\n}\n.main-container .date-container {\n  display: flex;\n  align-items: center;\n}\n.main-container .date-container .main-container .date-container span {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n.main-container .date-container .clock {\n  background: url('clock.56bdf3712f7227dfdb1e.png') no-repeat center;\n}\n.main-container .date-container .place {\n  background: url('place.32e28c6b13018b2090d7.png') no-repeat center;\n}\n.main-container .event-button {\n  display: block;\n  width: 100%;\n  margin: 10px 0;\n  height: 40px;\n}\n.ul-eco-buttons {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  overflow: auto;\n  white-space: nowrap;\n}\n.ul-eco-buttons li {\n  display: inline-block;\n}\n.tag {\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 22px;\n  padding: 0 10px;\n  text-transform: capitalize;\n  font-family: var(--primary-font);\n  color: var(--tertiary-grey);\n  border: 1px solid var(--tertiary-grey);\n  border-radius: 25px;\n  margin-right: 8px;\n}\n.tag .tag-active {\n  color: var(--primary-white);\n}\n.description {\n  max-height: 100px;\n  overflow: hidden;\n}"},"4y86":function(t,e,n){"use strict";n.r(e),e.default=".wrapper {\n  padding: 0 50px;\n}"},"7+5l":function(t,e,n){"use strict";n.r(e),e.default='<div class="example-card">\n  <div clas="image-container">\n    <div class="row">\n      <div class="title-wrapper">\n        <mat-label>Picture</mat-label>\n        <mat-label>{{ imageCount }}/5</mat-label>\n      </div>\n      <mat-label class="image-title">Download PNG or JPG only. File size should be less than 10MB</mat-label>\n      <div class="image-container" appDrag (files)="filesDropped($event)" *ngFor="let img of images; index as i">\n        <img class="image-preview" *ngIf="img.src" [src]="img.src" alt="image-of-violation" />\n        <div class="delete-block">\n          <div>{{ img.name }}</div>\n          <div (click)="deleteImage(i)">X</div>\n        </div>\n\n        <div *ngIf="img.isLabel" class="drag-inscription">\n          <label for="file-upload">\n            {{ img.label }}\n          </label>\n          <input\n            #takeInput\n            id="file-upload"\n            class="d-none"\n            [disabled]="false"\n            type="file"\n            accept="image/png,image/jpeg"\n            (change)="loadFile($event)"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},"7Y0F":function(t,e,n){"use strict";n.r(e),e.default=".date-container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.time-container {\n  display: flex;\n  width: 100%;\n}\n\n.time-item {\n  max-width: 102px;\n  margin-right: 10px;\n}\n\n.time-button {\n  min-width: 100%;\n}\n\n.date {\n  max-width: 124px;\n  margin-right: 20px;\n}\n\n.mat-form-field {\n  font-size: 12px;\n}\n\n.isOfline {\n  display: none;\n}\n\n.active {\n  display: block;\n}\n\n.active .mat-form-field {\n  width: 100%;\n}\n\n.example-margin {\n  margin-right: 20px;\n}"},"98Gv":function(t,e,n){"use strict";n.r(e),e.default=".google-map {\n  height: 100%;\n  width: 100%;\n  padding: 0 0 80px 0;\n}\n.google-map .map-button {\n  text-align: right;\n  margin: 10px 0 0 0;\n}"},B6en:function(t,e,n){"use strict";n.r(e),e.default='<div [formGroup]="dateForm">\n  <div class="date-container">\n    <mat-form-field appearance="outline" class="date">\n      <mat-label>Choose a date </mat-label>\n      <input [min]="minDate" matInput [matDatepicker]="picker" formControlName="date" />\n      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n      <mat-datepicker #picker></mat-datepicker>\n    </mat-form-field>\n\n    <mat-form-field appearance="outline" class="time-item">\n      <mat-label>Set Start Time</mat-label>\n      <mat-select ngDefaultControl formControlName="startTime">\n        <mat-option *ngFor="let time of timeArrStart" [value]="time">\n          {{ time }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <h5 class="time-item">--</h5>\n    <mat-form-field appearance="outline" class="time-item">\n      <mat-label>Set End Time</mat-label>\n      <mat-select ngDefaultControl formControlName="endTime">\n        <mat-option *ngFor="let time of timeArrEnd" [value]="time">\n          {{ time }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-checkbox class="example-margin" [checked]="checkTime" (change)="checkIfAllDay()">all day</mat-checkbox>\n  </div>\n  <div class="checkbox">\n    <mat-checkbox class="example-margin" [checked]="checkOfflinePlace" (change)="checkIfOffline()">Place</mat-checkbox>\n    <mat-checkbox class="example-margin" [checked]="checkOnlinePlace" (change)="checkIfOnline()">Online</mat-checkbox>\n  </div>\n\n  <div *ngIf="dateForm.get(\'place\')" class="active">\n    <mat-label>Location</mat-label>\n    <mat-form-field appearance="outline">\n      <mat-label>Event Ofline place.</mat-label>\n      <input matInput #placesRef matGoogleMapsAutocomplete formControlName="place" />\n    </mat-form-field>\n  </div>\n\n  <div *ngIf="dateForm.get(\'onlineLink\')" class="active">\n    <mat-label>Online Link</mat-label>\n    <mat-form-field appearance="outline">\n      <mat-label>EventOnline link (should start with http:/).</mat-label>\n      <input matInput formControlName="onlineLink" />\n    </mat-form-field>\n  </div>\n</div>\n'},BRC3:function(t,e,n){"use strict";n.r(e),e.default='<div class="wrapper">\n  <div class="event-header">\n    <h1 class="main-header">{{ \'homepage.events.title\' | translate }}</h1>\n    <a class="create" [routerLink]="[\'create-event\']" *ngIf="isLoggedIn">\n      <div class="secondary-global-button create-button">\n        <span class="create-button-text">Create</span>\n      </div>\n    </a>\n  </div>\n\n  <div class="event-list">\n    <mat-card class="event-list-item" *ngFor="let eventItem of eventsList | paginate: pageConfig(items, page, total)">\n      <app-events-list-item [event]="eventItem"></app-events-list-item>\n    </mat-card>\n  </div>\n  <pagination-controls *ngIf="checkPagination()" (pageChange)="setPage($event)"></pagination-controls>\n</div>\n'},HlEG:function(t,e,n){"use strict";n.r(e),e.default='<div class="wrapper">\n  <router-outlet></router-outlet>\n</div>\n'},QDJE:function(t,e,n){"use strict";n.r(e),e.default=".image-container {\n  position: relative;\n  width: 108px;\n  height: 64px;\n  background: var(--ubs-secondary-white);\n  border: 1px solid var(--ubs-primary-light-grey);\n  box-sizing: border-box;\n  margin: 1px 1px 50px 1px;\n}\n\n.drag-inscription {\n  font-size: 22px;\n  color: var(--quaternary-grey);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  text-align: center;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n}\n\n.delete-block {\n  justify-content: space-between;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--ubs-quaternary-light-grey);\n  opacity: 0.7;\n  width: 100%;\n  display: none;\n  max-height: 45px;\n}\n\n.delete-block:hover {\n  display: flex;\n  cursor: pointer;\n}\n\n.delete-block div:nth-of-type(1) {\n  width: calc(100% - 25px);\n  overflow: hidden;\n}\n\n.delete-block div:nth-of-type(2) {\n  width: 15px;\n}\n\n.image-preview {\n  width: 108px;\n  height: 64px;\n  -o-object-fit: contain;\n     object-fit: contain;\n  cursor: pointer;\n}\n\n.image-preview:hover + .delete-block {\n  display: flex;\n}\n\n.title-wrapper {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.image-title {\n  font-size: 12px;\n}"},UwCc:function(t,e,n){"use strict";n.r(e),e.default='<app-spinner *ngIf="isPosting"></app-spinner>\n<div *ngIf="event && !isPosting" class="event">\n  <div class="event-header">\n    <div class="event-nav">\n      <div class="back-button">\n        <a [routerLink]="[\'/events\']" class="button-link">\n          <div class="button-content">\n            <div class="button-arrow">\n              <img [src]="images.arrowLeft" aria-hidden="true" alt="arrow" class="button-arrow-img arrow" />\n            </div>\n            <div class="button-text">{{ \'eco-news-single-view.back-button\' | translate }}</div>\n          </div>\n        </a>\n      </div>\n      <div *ngIf="checkUserId()" class="edit-buttons">\n        <div class="secondary-global-button event-button delete-button">\n          <span (click)="deleteEvent()">Delete</span>\n        </div>\n        <div class="secondary-global-button event-button">\n          <span (click)="routeToEditEvent()">Edit</span>\n        </div>\n      </div>\n    </div>\n    <div class="event-title">\n      <h1>{{ event.title }}</h1>\n    </div>\n    <div class="event-autor">\n      <div class="left-side">\n        <div class="autor-name">\n          <div>Jan 30, 2020</div>\n          <div>|</div>\n          <div>by {{ event.organizer.name }}</div>\n        </div>\n        <div class="event-stars">\n          <span class="star fill"></span>\n          <span class="star empty"></span>\n          <span class="star empty"></span>\n        </div>\n      </div>\n      <div>right side</div>\n    </div>\n  </div>\n  <div class="event-main">\n    <div class="main-left">\n      <div *ngIf="imagesSlider.length" class="main-image">\n        <img\n          *ngFor="let image of imagesSlider; let i = index"\n          [src]="image"\n          [ngClass]="{ \'image-active\': sliderIndex === i }"\n          class="img fade"\n          alt="event"\n        />\n\n        <div class="dot-container">\n          <span\n            *ngFor="let dot of imagesSlider; let i = index"\n            class="dot"\n            [ngClass]="{ \'dot-active\': sliderIndex === i }"\n            (click)="selectImage(i)"\n          >\n          </span>\n        </div>\n\n        <div class="button-arrow right">\n          <span class="arrow-right" (click)="moveRight()">></span>\n        </div>\n        <div class="button-arrow left">\n          <span class="arrow-left" (click)="moveLeft()"><</span>\n        </div>\n      </div>\n\n      <mat-card class="event-place">\n        <div class="event-stars">\n          <span class="star fill"></span>\n          <span class="star empty"></span>\n          <span class="star empty"></span>\n        </div>\n\n        <div *ngIf="event.dates[0]" class="date-container">\n          <div>\n            <h4>Start</h4>\n          </div>\n          <div class="date">\n            {{ event.dates[0].startDate | date: \'mediumDate\' }}\n          </div>\n          <div class="time-container">\n            <div class="time">{{ event.dates[0].startDate | date: \'HH:mm:ss\' }}-</div>\n            <div class="time">{{ event.dates[0].finishDate | date: \'HH:mm:ss\' }}</div>\n          </div>\n        </div>\n        <div *ngIf="event.dates[0]" class="date-container">\n          <div>\n            <h4>Place</h4>\n          </div>\n          <div>\n            {{ address }}\n            <span *ngIf="event.dates[0].coordinates.latitude" (click)="openMap()" class="map-icon"></span>\n          </div>\n        </div>\n      </mat-card>\n\n      <mat-card class="event-status">\n        <div class="initial">\n          <div class="initial-item">\n            <h5>Initiative type</h5>\n          </div>\n          <div class="initial-item">\n            <ul class="ul-eco-buttons" aria-label="filter by items">\n              <li *ngFor="let tag of tags">\n                <a role="button" [ngClass]="{ \'global-tag-clicked\': tag.isActive }" class="tag" tabindex="0">\n                  <span [ngClass]="{ \'tag-active\': tag.isActive }">{{ tag.nameEn }}</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="initial">\n          <div class="status-title">\n            <h5>Status</h5>\n          </div>\n          <div class="buttons-container">\n            <div class="flex-container">\n              <a role="button" class="custom-chip global-tag" [ngClass]="{ \'global-tag-clicked\': event.open }" tabindex="0">\n                <span class="text">open</span>\n              </a>\n              <a role="button" class="custom-chip global-tag" [ngClass]="{ \'global-tag-clicked\': !event.open }" tabindex="0">\n                <span class="text">close</span>\n              </a>\n            </div>\n          </div>\n        </div>\n      </mat-card>\n    </div>\n\n    <div class="main-right">\n      <h3>Description</h3>\n      <div [innerHTML]="event.description"></div>\n    </div>\n  </div>\n</div>\n'},W4NG:function(t,e,n){"use strict";n.r(e),e.default='<div class="image-container">\n  <img class="event-image" src="{{ event.titleImage }}" alt="event" />\n  <div class="event-stars">\n    <span class="fill"></span>\n    <span class="empty"></span>\n    <span class="empty"></span>\n  </div>\n  <div class="event-flags">\n    <span class="flag"></span>\n  </div>\n  <div class="event-title">\n    <h3>{{ event.title }}</h3>\n  </div>\n</div>\n\n<div class="main-container">\n  <div *ngIf="event.dates[0]" class="date-container">\n    <span class="clock"></span>\n    <div class="date">\n      {{ event.dates[0].startDate | date }}\n    </div>\n    <h5>{{ \' | \' }}</h5>\n    <div class="time">{{ event.dates[0].startDate | date: \'shortTime\' }}...</div>\n  </div>\n  <div *ngIf="event.dates[0]" class="date-container">\n    <div>\n      <span class="place"></span>\n    </div>\n    <div>\n      {{ address }}\n    </div>\n  </div>\n\n  <div>\n    <ul class="ul-eco-buttons" aria-label="filter by items">\n      <li *ngFor="let tag of itemTags">\n        <a role="button" class="tag" [ngClass]="{ \'global-tag-clicked\': tag.isActive }" tabindex="0">\n          <span class="text" [ngClass]="{ \'tag-active\': tag.isActive }">{{ tag.nameEn }}</span>\n        </a>\n      </li>\n    </ul>\n  </div>\n\n  <div class="description" [innerHTML]="event.description"></div>\n\n  <button class="secondary-global-button event-button" [routerLink]="[\'/events\', event.id]">More</button>\n  <button class="primary-global-button event-button">Join Event</button>\n</div>\n'},aEgp:function(t,e,n){"use strict";n.r(e),e.default=".wrapper {\n  padding: 20px 100px;\n}\n\n.event-header {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.create {\n  height: 40px;\n}\n\n.create .create-button {\n  border-radius: 5px;\n  line-height: 16px;\n  min-width: 139px;\n  min-height: 40px;\n  padding: 8px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.create .create-button span {\n  display: block;\n  height: 16px;\n  white-space: nowrap;\n}\n\n.event-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.event-list .mat-card {\n  padding: 0;\n}\n\n.event-list .event-list-item {\n  flex: 0 1 30%;\n  overflow: hidden;\n  margin: 0 0 30px 0;\n  background-color: var(--primary-light-grey);\n}"},gSny:function(t,e,n){"use strict";n.r(e),e.default='<div class="google-map">\n  <p>Event address: {{ adress }}</p>\n  <agm-map [style.width.%]="100" [style.height.%]="100" [zoom]="12" (mapReady)="onMapReady($event)">\n    <agm-marker\n      *ngIf="eventPlace"\n      [latitude]="eventPlace.location.lat"\n      [longitude]="eventPlace.location.lng"\n      [title]="markerContent"\n      (mouseOver)="markerOver(eventPlace)"\n      (mouseOut)="markerOut(eventPlace)"\n      [animation]="eventPlace.animation"\n    ></agm-marker>\n  </agm-map>\n  <div class="map-button">\n    <button mat-raised-button color="warn" (click)="closeMap()">Close</button>\n  </div>\n</div>\n'},i48p:function(t,e,n){"use strict";n.r(e),e.default=".dateContainer {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.dateEvent {\n  align-items: flex-start;\n  display: flex;\n  margin: 20px 0;\n}\n\n::ng-deep .ql-container {\n  min-height: 200px;\n}\n\n.content {\n  z-index: 2;\n  border: 2px solid #a19c9c;\n}\n\n.content-error {\n  border: 2px solid #f32121;\n}\n\n.event-container {\n  padding: 0 100px;\n}\n\n.event-header {\n  margin: 24px 0;\n}\n\n.main-title {\n  display: flex;\n  align-items: center;\n}\n\n.title-wrapper {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-main {\n  display: flex;\n}\n\n.event-main-block {\n  background: #f8f7f7;\n}\n\n.mat-form-field {\n  font-size: 12px;\n  padding-left: 0;\n}\n\n.event-input {\n  width: 484px;\n}\n\n.date-item {\n  width: 96px;\n}\n\n.duration-choice {\n  margin: 0 0 0 20px;\n}\n\n.left {\n  max-width: 652px;\n}\n\n.date-event-block {\n  margin: 0 0 0 20px;\n}\n\n.date-day {\n  background-color: #d8d5d5;\n  width: 64px;\n  height: 32px;\n  padding: 5px 0;\n  text-align: center;\n  margin-top: 10px;\n}\n\n.checkbox {\n  width: 150px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.right {\n  padding: 24px;\n  margin-left: 32px;\n}\n\n.buttons-container {\n  margin-bottom: 30px;\n}\n\n.tag-error {\n  color: red;\n}\n\n.label {\n  margin-bottom: 40px;\n}\n\n.ul-eco-buttons {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  overflow: auto;\n  white-space: nowrap;\n  min-height: 42px;\n}\n\n.ul-eco-buttons li {\n  display: inline-block;\n}\n\n.flex-container {\n  display: flex;\n  justify-content: flex-start;\n}\n\n.submit-container {\n  padding: 40px 0 60px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.submit-container button {\n  margin-left: 30px;\n}"},phI3:function(t,e,n){"use strict";n.r(e),n.d(e,"EventsModule",(function(){return Et})),n.d(e,"createTranslateLoader",(function(){return St}));var i=n("mrSG"),a=n("fXoL"),s=n("ofXK"),r=n("sYmb"),o=n("mqiu"),l=n("iadO"),d=n("kmnG"),c=n("qFsG"),p=n("d3UM"),h=n("bTqV"),m=n("FKr1"),g=n("8LU1"),u=n("cH1L");const v=["*"],f=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],b=new a.InjectionToken("MAT_GRID_LIST");class y{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Object(g.f)(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Object(g.f)(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}y.\u0275fac=function(t){return new(t||y)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](b,8))},y.\u0275cmp=a["\u0275\u0275defineComponent"]({type:y,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&a["\u0275\u0275attribute"]("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:v,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275elementStart"](0,"figure",0),a["\u0275\u0275projection"](1),a["\u0275\u0275elementEnd"]())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),y.ctorParameters=()=>[{type:a.ElementRef},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[b]}]}],y.propDecorators={rowspan:[{type:a.Input}],colspan:[{type:a.Input}]};class x{constructor(t){this._element=t}ngAfterContentInit(){Object(m.D)(this._lines,this._element)}}x.\u0275fac=function(t){return new(t||x)(a["\u0275\u0275directiveInject"](a.ElementRef))},x.\u0275cmp=a["\u0275\u0275defineComponent"]({type:x,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(t,e,n){var i;(1&t&&a["\u0275\u0275contentQuery"](n,m.j,!0),2&t)&&(a["\u0275\u0275queryRefresh"](i=a["\u0275\u0275loadQuery"]())&&(e._lines=i))},ngContentSelectors:["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"],decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](f),a["\u0275\u0275projection"](0),a["\u0275\u0275elementStart"](1,"div",0),a["\u0275\u0275projection"](2,1),a["\u0275\u0275elementEnd"](),a["\u0275\u0275projection"](3,2))},encapsulation:2,changeDetection:0}),x.ctorParameters=()=>[{type:a.ElementRef}],x.propDecorators={_lines:[{type:a.ContentChildren,args:[m.j,{descendants:!0}]}]};class w{}w.\u0275fac=function(t){return new(t||w)},w.\u0275dir=a["\u0275\u0275defineDirective"]({type:w,selectors:[["","mat-grid-avatar",""],["","matGridAvatar",""]],hostAttrs:[1,"mat-grid-avatar"]});class k{}k.\u0275fac=function(t){return new(t||k)},k.\u0275dir=a["\u0275\u0275defineDirective"]({type:k,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]});class _{}_.\u0275fac=function(t){return new(t||_)},_.\u0275dir=a["\u0275\u0275defineDirective"]({type:_,selectors:[["mat-grid-tile-footer"]],hostAttrs:[1,"mat-grid-tile-footer"]});class O{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new E(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class E{constructor(t,e){this.row=t,this.col=e}}const S=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class I{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=A(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":T(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(t,n,i,a),this.setRowStyles(t,e,i,a)}setColStyles(t,e,n,i){let a=this.getBaseTileSize(n,i),s="rtl"===this._direction?"right":"left";t._setStyle(s,this.getTilePosition(a,e)),t._setStyle("width",T(this.getTileSize(a,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class D extends I{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){if(super.init(t,e,n,i),this.fixedRowHeight=A(this.fixedRowHeight),!S.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",T(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",T(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class j extends I{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){let a=n/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(a,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",T(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",T(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class C extends I{setRowStyles(t,e){let n=100/this._rowspan,i=(this._rows-1)/this._rows,a=this.getBaseTileSize(n,i);t._setStyle("top",this.getTilePosition(a,e)),t._setStyle("height",T(this.getTileSize(a,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function T(t){return`calc(${t})`}function A(t){return t.match(/([A-Za-z%]+)$/)?t:t+"px"}class F{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Object(g.f)(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=""+(null==t?"":t)}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=""+(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),"fit"===t?this._tileStyler=new C:t&&t.indexOf(":")>-1?this._tileStyler=new j(t):this._tileStyler=new D(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new O);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}F.\u0275fac=function(t){return new(t||F)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](u.b,8))},F.\u0275cmp=a["\u0275\u0275defineComponent"]({type:F,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){var i;(1&t&&a["\u0275\u0275contentQuery"](n,y,!0),2&t)&&(a["\u0275\u0275queryRefresh"](i=a["\u0275\u0275loadQuery"]())&&(e._tiles=i))},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&a["\u0275\u0275attribute"]("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[a["\u0275\u0275ProvidersFeature"]([{provide:b,useExisting:F}])],ngContentSelectors:v,decls:2,vars:0,template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275projection"](1),a["\u0275\u0275elementEnd"]())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),F.ctorParameters=()=>[{type:a.ElementRef},{type:u.b,decorators:[{type:a.Optional}]}],F.propDecorators={_tiles:[{type:a.ContentChildren,args:[y,{descendants:!0}]}],cols:[{type:a.Input}],gutterSize:[{type:a.Input}],rowHeight:[{type:a.Input}]};class L{}L.\u0275mod=a["\u0275\u0275defineNgModule"]({type:L}),L.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||L)},imports:[[m.k,m.i],m.k,m.i]}),("undefined"==typeof ngJitMode||ngJitMode)&&a["\u0275\u0275setNgModuleScope"](L,{declarations:function(){return[F,y,x,k,_,w]},imports:function(){return[m.k,m.i]},exports:function(){return[F,y,x,m.k,m.i,k,_,w]}});var P=n("pxUr"),R=n("Qaz/"),$=n("3Pt+"),M=n("5tIC"),z=n("PCNd"),H=n("dlKe"),G=n("CzEO"),N=n("oOf3"),q=n("tyNb");const V={"emoji-shortname":!0,"emoji-textarea":!1,"emoji-toolbar":!0,toolbar:{container:[["bold","italic","underline","strike"],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],[{size:["small",!1,"large","huge"]}]]},imageResize:!0};var U=n("tk/3"),B=n("jtHE"),Z=n("LRne"),J=n("AytR");let Q=class{constructor(t){this.http=t,this.backEnd=J.a.backendLink,this.accessToken=localStorage.getItem("accessToken"),this.destroyed$=new B.a(1),this.httpOptions={headers:new U.d({Authorization:"my-auth-token"})}}createEvent(t){return this.http.post(this.backEnd+"events/create",t)}editEvent(t){return Object(Z.a)(!0)}getEvents(t,e){return this.http.get(`${this.backEnd}events?page=${t}&size=${e}`)}getEventById(t){return this.http.get(`${this.backEnd}events/event/${t}`)}deleteEvent(t){return this.http.delete(`${this.backEnd}events/delete/${t}`)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}};Q.ctorParameters=()=>[{type:U.b}],Q=Object(i.__decorate)([Object(a.Injectable)({providedIn:"root"})],Q);var K,W=n("kzlf"),X=n.n(W),Y=(n("ah1v"),n("8xju")),tt=n.n(Y),et=n("eIep"),nt=n("1G5W"),it=n("XNiG"),at=n("r0o6");!function(t){t.START="00 : 00",t.END="23 : 59"}(K||(K={}));const st=[{nameEn:"Environmental",nameUa:"\u0415\u043a\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u0438\u0439",isActive:!1},{nameEn:"Social",nameUa:"\u0421\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u0438\u0439",isActive:!1},{nameEn:"Economic",nameUa:"\u0415\u043a\u043e\u043d\u043e\u043c\u0456\u0447\u043d\u0438\u0439",isActive:!1}],rt={date:null,startDate:"",finishDate:"",coordinatesDto:{latitude:null,longitude:null},onlineLink:"",valid:!1,check:!1},ot=["1 day","2 days","3 days","4 days","5 days","6 days","7 days"];var lt=n("82Ky");let dt=class{constructor(t,e,n,i){this.eventService=t,this.router=e,this.injector=n,this.localStorageService=i,this.title="",this.dates=[],this.imgArray=[],this.quillModules={},this.editorHTML="",this.isOpen=!0,this.places=[],this.isPosting=!1,this.checkAfterSend=!0,this.pipe=new s.e("en-US"),this.dateArrCount=ot,this.imagesToDelete=[],this.destroyed$=new B.a(1),this.unsubscribe=new it.a,this.quillModules=V,X.a.register("modules/imageResize",tt.a)}ngOnInit(){this.editMode=this.localStorageService.getEditMode(),this.tags=st.reduce((t,e)=>[...t,Object.assign({},e)],[]),this.eventFormGroup=new $.h({titleForm:new $.f("",[$.v.required,$.v.minLength(1),$.v.maxLength(70)]),description:new $.f("",[$.v.required,$.v.minLength(28),$.v.maxLength(63206)]),eventDuration:new $.f("",[$.v.required,$.v.minLength(2)])}),this.editMode&&(this.editEvent=this.editMode?this.localStorageService.getEventForEdit():null,this.setEditValue())}setEditValue(){this.eventFormGroup.patchValue({titleForm:this.editEvent.title,eventDuration:this.dateArrCount[this.editEvent.dates.length-1],description:this.editEvent.description}),this.setDateCount(this.editEvent.dates.length),this.imagesForEdit=[this.editEvent.titleImage,...this.editEvent.additionalImages],this.tags.forEach(t=>t.isActive=this.editEvent.tags.some(e=>e.nameEn===t.nameEn)),this.isTagValid=this.tags.some(t=>t.isActive),this.isOpen=this.editEvent.open}checkTab(t){t.isActive=!t.isActive,this.isTagValid=this.tags.some(t=>t.isActive)}checkForm(t,e){this.dates[e].date=t.date,this.dates[e].startDate=t.startTime,this.dates[e].finishDate=t.endTime,this.dates[e].onlineLink=t.onlineLink}checkStatus(t,e){this.dates[e].valid=t}escapeFromCreateEvent(){this.router.navigate(["/events"])}changeToOpen(){this.isOpen=!0}changeToClose(){this.isOpen=!1}setDateCount(t){this.dates=Array(t).fill(null).map(()=>Object.assign({},rt))}getImageTosend(t){this.imgArray=[...t]}getImagesToDelete(t){this.imagesToDelete=t}setCoordsOnlOff(t,e){this.dates[e].coordinatesDto.latitude=t.latitude,this.dates[e].coordinatesDto.longitude=t.longitude}checkDates(){this.dates.forEach(t=>{t.check=!t.valid}),this.checkdates=!this.dates.some(t=>!t.valid)}getFormattedDate(t,e,n){const i=new Date(t);return i.setHours(e,n),i.toString()}createDates(){return this.dates.reduce((t,e)=>{e.startDate||(e.startDate=K.START),e.finishDate||(e.finishDate=K.END);const n=this.getFormattedDate(e.date,+e.startDate.split(":")[0],+e.startDate.split(":")[1]),i=this.getFormattedDate(e.date,+e.finishDate.split(":")[0],+e.finishDate.split(":")[1]),a={startDate:this.pipe.transform(n,"yyyy-MM-ddTHH:mm:ssZZZZZ"),finishDate:this.pipe.transform(i,"yyyy-MM-ddTHH:mm:ssZZZZZ"),coordinates:{latitude:e.coordinatesDto.latitude,longitude:e.coordinatesDto.longitude},onlineLink:e.onlineLink};return t.push(a),t},[])}onSubmit(){let t;this.checkDates(),this.checkdates&&(t=this.createDates());const e=this.tags.filter(t=>t.isActive).reduce((t,e)=>[...t,e.nameEn],[]);let n={title:this.eventFormGroup.get("titleForm").value,description:this.eventFormGroup.get("description").value,open:this.isOpen,datesLocations:t,tags:e};this.editMode&&(n=Object.assign(Object.assign({},n),{imagesTodelete:this.imagesToDelete}));if(this.checkdates&&this.eventFormGroup.valid&&e.length){this.checkAfterSend=!0;const t=new FormData,e=JSON.stringify(n);t.append("addEventDtoRequest",e),this.imgArray.forEach(e=>{t.append("images",e)}),this.isPosting=!0,Object(Z.a)(!0).pipe(Object(et.a)(()=>Object(at.a)(()=>this.editMode,this.eventService.editEvent(t),this.eventService.createEvent(t))),Object(nt.a)(this.unsubscribe)).subscribe(()=>{this.isPosting=!1,this.escapeFromCreateEvent()})}else this.eventFormGroup.markAllAsTouched(),this.checkAfterSend=!1}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}};dt.ctorParameters=()=>[{type:Q},{type:q.g},{type:a.Injector},{type:lt.a}],dt=Object(i.__decorate)([Object(a.Component)({selector:"app-create-edit-events",template:Object(i.__importDefault)(n("tg6x")).default,styles:[Object(i.__importDefault)(n("i48p")).default]})],dt);var ct=n("0IaG"),pt=n("IzEk"),ht=n("VMWL"),mt=n("7Gk6");let gt=class{constructor(t,e){this.matDialogRef=t,this.data=e,this.destroy$=new it.a,this.markerContent="Event Address",this.location=new a.EventEmitter,this.regionOptions={types:["(regions)"],componentRestrictions:{country:"UA"}}}ngOnInit(){this.eventPlace={location:{lat:this.data.lat,lng:this.data.lng},animation:"DROP"},this.matDialogRef.backdropClick().pipe(Object(nt.a)(this.destroy$)).subscribe(()=>{this.matDialogRef.close()})}onMapReady(t){this.map=t,this.data.lat&&this.map.setCenter({lat:this.data.lat,lng:this.data.lng})}markerOver(t){t.animation="BOUNCE"}markerOut(t){t.animation=""}closeMap(){this.matDialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};gt.ctorParameters=()=>[{type:ct.f},{type:void 0,decorators:[{type:a.Inject,args:[ct.a]}]}],Object(i.__decorate)([Object(a.Output)()],gt.prototype,"location",void 0),gt=Object(i.__decorate)([Object(a.Component)({selector:"app-map-event",template:Object(i.__importDefault)(n("gSny")).default,styles:[Object(i.__importDefault)(n("98Gv")).default]}),Object(i.__param)(1,Object(a.Inject)(ct.a))],gt);let ut=class{constructor(t,e,n,i,a){this.route=t,this.eventService=e,this.router=n,this.localStorageService=i,this.dialog=a,this.images=mt.a,this.imagesSlider=[],this.sliderIndex=0,this.deleteDialogData={popupTitle:"Delete event",popupConfirm:"homepage.events.delete-yes",popupCancel:"homepage.events.delete-no"},this.address="Should be adress"}ngOnInit(){this.localStorageService.setEditMode("canUserEdit",!0),this.getUserId(),this.tags=st.reduce((t,e)=>[...t,Object.assign({},e)],[]),this.setNewsId(),this.eventService.getEventById(this.eventId).subscribe(t=>{this.event=t,this.localStorageService.setEventForEdit("editEvent",this.event),this.imagesSlider=[t.titleImage,...t.additionalImages],this.filterTags(t.tags),this.mapDialogData={lat:this.event.dates[0].coordinates.latitude,lng:this.event.dates[0].coordinates.longitude}})}routeToEditEvent(){this.router.navigate(["/events","create-event"])}getUserId(){this.localStorageService.userIdBehaviourSubject.subscribe(t=>this.userId=t)}checkUserId(){return this.userId===this.event.organizer.id}filterTags(t){this.tags.forEach(e=>e.isActive=t.some(t=>t.nameEn===e.nameEn))}setNewsId(){this.eventId=this.route.snapshot.params.id}selectImage(t){this.sliderIndex=t}moveRight(){this.sliderIndex=this.sliderIndex===this.imagesSlider.length-1?0:++this.sliderIndex}moveLeft(){this.sliderIndex=0===this.sliderIndex?this.imagesSlider.length-1:--this.sliderIndex}openMap(){this.dialog.open(gt,{data:this.mapDialogData,hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"",width:"900px",height:"400px"})}deleteEvent(){this.dialog.open(ht.a,{data:this.deleteDialogData,hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"",width:"300px"}).afterClosed().pipe(Object(pt.a)(1)).subscribe(t=>{t&&(this.isPosting=!0,this.eventService.deleteEvent(this.eventId).subscribe(()=>{this.isPosting=!1,this.router.navigate(["/events"])}))})}};ut.ctorParameters=()=>[{type:q.a},{type:Q},{type:q.g},{type:lt.a},{type:ct.c}],ut=Object(i.__decorate)([Object(a.Component)({selector:"app-event-details",template:Object(i.__importDefault)(n("UwCc")).default,styles:[Object(i.__importDefault)(n("wVZ/")).default]})],ut);var vt=n("9ED3");let ft=class{constructor(t,e,n){this.eventService=t,this.userOwnAuthService=e,this.localStorageService=n,this.eventsList=[],this.destroyed$=new B.a(1),this.items=9,this.total=0,this.page=0}pageConfig(t,e,n){return{itemsPerPage:t,currentPage:e,totalItems:n}}ngOnInit(){this.localStorageService.setEditMode("canUserEdit",!1),this.checkUserSingIn(),this.userOwnAuthService.getDataFromLocalStorage(),this.eventService.getEvents(this.page,9).subscribe(t=>{this.eventsList=[...t.page],this.total=t.totalElements})}checkPagination(){return this.total>this.items}checkUserSingIn(){this.userOwnAuthService.credentialDataSubject.subscribe(t=>this.isLoggedIn=t&&t.userId)}setPage(t){this.page=t,this.eventService.getEvents(t-1,9).subscribe(t=>{this.eventsList=[...t.page]})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}};ft.ctorParameters=()=>[{type:Q},{type:vt.a},{type:lt.a}],ft=Object(i.__decorate)([Object(a.Component)({selector:"app-events-list",template:Object(i.__importDefault)(n("BRC3")).default,styles:[Object(i.__importDefault)(n("aEgp")).default]})],ft);let bt=class{constructor(t,e){this.translate=t,this.localStorageService=e}ngOnInit(){this.bindLang(this.localStorageService.getCurrentLanguage())}bindLang(t){this.translate.setDefaultLang(t)}};bt.ctorParameters=()=>[{type:r.c},{type:lt.a}],bt=Object(i.__decorate)([Object(a.Component)({selector:"app-events",template:Object(i.__importDefault)(n("HlEG")).default,styles:[Object(i.__importDefault)(n("4y86")).default]})],bt);const yt=[{path:"",component:bt,children:[{path:"",component:ft},{path:"create-event",component:dt},{path:":id",component:ut}]}];let xt=class{};xt=Object(i.__decorate)([Object(a.NgModule)({imports:[q.i.forChild(yt)],exports:[q.i]})],xt);let wt=class{constructor(t){this.mapsAPILoader=t,this.minDate=new Date,this.timeArrStart=[],this.timeArrEnd=[],this.timeArr=[],this.coordinates={latitude:null,longitude:null},this.pipe=new s.e("en-US"),this.checkTime=!1,this.checkOfflinePlace=!1,this.checkOnlinePlace=!1,this.regionOptions={types:["address"],componentRestrictions:{country:"UA"}},this.status=new a.EventEmitter,this.datesForm=new a.EventEmitter,this.coordOffline=new a.EventEmitter}ngOnInit(){const t=(new Date).getDate();this.minDate.setDate(t+1),this.fillTimeArray(),this.dateForm=new $.h({date:new $.f("",[$.v.required]),startTime:new $.f("",[$.v.required]),endTime:new $.f("",[$.v.required])}),this.dateForm.valueChanges.subscribe(t=>{this.checkStartTime(t.startTime),this.checkEndTime(t.endTime),this.coordOffline.emit(this.coordinates),this.status.emit(this.dateForm.valid),this.datesForm.emit(t)}),this.editDate&&(this.mapsAPILoader.load().then(()=>{this.geoCoder=new google.maps.Geocoder}),this.setEditData())}setEditData(){const t=this.pipe.transform(this.editDate.startDate,"H:mm"),e=this.pipe.transform(this.editDate.finishDate,"H:mm");"23:59"===e&&(this.checkTime=!0,this.dateForm.get("startTime").disable(),this.dateForm.get("endTime").disable()),this.dateForm.patchValue({date:this.editDate.startDate,startTime:t,endTime:e}),this.editDate.coordinates.latitude&&(this.checkOfflinePlace=!0,this.dateForm.addControl("place",new $.f("",[$.v.required])),setTimeout(()=>this.setPlaceAutocomplete(),0),setTimeout(()=>this.setGeocode(),2e3),this.coordinates.latitude=this.editDate.coordinates.latitude,this.coordinates.longitude=this.editDate.coordinates.longitude),this.editDate.onlineLink&&(this.checkOnlinePlace=!0,this.dateForm.addControl("onlineLink",new $.f("",[$.v.required,$.v.pattern(/^$|^https?:\/\//)])),this.dateForm.patchValue({onlineLink:this.editDate.onlineLink}))}setGeocode(){this.geoCoder.geocode({location:{lat:this.editDate.coordinates.latitude,lng:this.editDate.coordinates.longitude}},(t,e)=>{"OK"===e&&this.dateForm.patchValue({place:t[0].formatted_address})})}checkIfAllDay(){this.checkTime=!this.checkTime,this.checkTime?(this.dateForm.get("startTime").disable(),this.dateForm.get("endTime").disable()):(this.dateForm.get("startTime").enable(),this.dateForm.get("endTime").enable())}ngOnChanges(){this.check&&this.dateForm.markAllAsTouched()}checkIfOnline(){this.checkOnlinePlace=!this.checkOnlinePlace,this.checkOnlinePlace?this.dateForm.addControl("onlineLink",new $.f("",[$.v.required,$.v.pattern(/^$|^https?:\/\//)])):this.dateForm.removeControl("onlineLink")}checkIfOffline(){this.checkOfflinePlace=!this.checkOfflinePlace,this.checkOfflinePlace?(this.isOfline=!0,this.dateForm.addControl("place",new $.f("",[$.v.required])),setTimeout(()=>this.setPlaceAutocomplete(),0)):(this.isOfline=!1,this.coordinates.latitude=null,this.coordinates.longitude=null,this.coordOffline.emit(this.coordinates),this.autocomplete.unbindAll(),this.dateForm.removeControl("place"))}setPlaceAutocomplete(){this.mapsAPILoader.load().then(()=>{this.autocomplete=new google.maps.places.Autocomplete(this.placesRef.nativeElement,this.regionOptions),this.editDate&&this.autocomplete.setValues(this.editDate.coordinates),this.autocomplete.addListener("place_changed",()=>{const t=this.autocomplete.getPlace();this.coordinates.latitude=t.geometry.location.lat(),this.coordinates.longitude=t.geometry.location.lng(),this.coordOffline.emit(this.coordinates),this.dateForm.patchValue({place:t.formatted_address})})})}fillTimeArray(){for(let t=0;t<24;t++)this.timeArr.push(t+":00"),this.timeArrStart.push(t+":00"),this.timeArrEnd.push(t+":00")}checkEndTime(t){if(t){const e=t.split(":");this.timeArrStart=[...this.timeArr.slice(0,+e[0])]}}checkStartTime(t){if(t){const e=t.split(":");this.timeArrEnd=23==+e[0]?["23 : 59"]:[...this.timeArr.slice(+e[0]+1)]}}};wt.ctorParameters=()=>[{type:P.c}],Object(i.__decorate)([Object(a.Input)()],wt.prototype,"check",void 0),Object(i.__decorate)([Object(a.Input)()],wt.prototype,"editDate",void 0),Object(i.__decorate)([Object(a.Output)()],wt.prototype,"status",void 0),Object(i.__decorate)([Object(a.Output)()],wt.prototype,"datesForm",void 0),Object(i.__decorate)([Object(a.Output)()],wt.prototype,"coordOffline",void 0),Object(i.__decorate)([Object(a.ViewChild)("placesRef")],wt.prototype,"placesRef",void 0),wt=Object(i.__decorate)([Object(a.Component)({selector:"app-event-date-time-picker",template:Object(i.__importDefault)(n("B6en")).default,styles:[Object(i.__importDefault)(n("7Y0F")).default]})],wt);let kt=class{constructor(t){this.localStorageService=t,this.isImageTypeError=!1,this.dragAndDropLabel="+",this.imgArray=[],this.imagesCount=5,this.images=[],this.imagesTodelete=[],this.imageCount=0,this.imgArrayOutput=new a.EventEmitter,this.deleteImagesOutput=new a.EventEmitter}ngOnInit(){this.editMode=this.localStorageService.getEditMode(),this.initImages(),this.editMode&&(this.imageCount=this.imagesEditArr.length,this.images.forEach((t,e)=>{this.imagesEditArr[e]&&(t.src=this.imagesEditArr[e]),t.src&&(t.isLabel=!1),!t.src&&this.images[e-1].src&&(t.isLabel=!0)}))}initImages(){for(let t=0;t<this.imagesCount;t++)this.images.push({src:null,label:this.dragAndDropLabel,isLabel:!1});this.images[0].isLabel=!0}filesDropped(t){const e=t[0].file;this.transferFile(e)}transferFile(t){if(!this.isImageTypeError){const e=new FileReader;this.imgArray.push(t),this.imgArrayOutput.emit(this.imgArray),this.editMode&&this.deleteImagesOutput.emit(this.imagesTodelete),e.readAsDataURL(t),e.onload=()=>{this.assignImage(e.result)}}}assignImage(t){for(let e=0;e<this.images.length;e++)if(!this.images[e].src){this.images[e].src=t,this.images[e+1]&&(this.images[e+1].isLabel=!0),this.images[e].isLabel=!1,this.imageCount++;break}}deleteImage(t){this.images.splice(t,1),this.imgArray.splice(t,1),this.imgArrayOutput.emit(this.imgArray),this.editMode&&this.deleteImagesOutput.emit(this.imagesTodelete);let e=!1;t===this.imagesCount-1&&(e=!0),this.images.push({src:null,label:this.dragAndDropLabel,isLabel:e}),this.imageCount--,this.editMode&&!this.imagesTodelete.find(e=>e===this.imagesEditArr[t])&&this.imagesTodelete.push(this.imagesEditArr[t])}loadFile(t){const e=t.target.files[0];this.InputVar.nativeElement.value="",this.transferFile(e)}};kt.ctorParameters=()=>[{type:lt.a}],Object(i.__decorate)([Object(a.ViewChild)("takeInput")],kt.prototype,"InputVar",void 0),Object(i.__decorate)([Object(a.Input)()],kt.prototype,"imagesEditArr",void 0),Object(i.__decorate)([Object(a.Output)()],kt.prototype,"imgArrayOutput",void 0),Object(i.__decorate)([Object(a.Output)()],kt.prototype,"deleteImagesOutput",void 0),kt=Object(i.__decorate)([Object(a.Component)({selector:"app-images-container",template:Object(i.__importDefault)(n("7+5l")).default,styles:[Object(i.__importDefault)(n("QDJE")).default]})],kt);var _t=n("7itd");let Ot=class{constructor(){this.address="Should be adress"}ngOnInit(){this.itemTags=st.reduce((t,e)=>[...t,Object.assign({},e)],[]),this.filterTags(this.event.tags)}filterTags(t){this.itemTags.forEach(e=>e.isActive=t.some(t=>t.nameEn===e.nameEn))}};Object(i.__decorate)([Object(a.Input)()],Ot.prototype,"event",void 0),Ot=Object(i.__decorate)([Object(a.Component)({selector:"app-events-list-item",template:Object(i.__importDefault)(n("W4NG")).default,styles:[Object(i.__importDefault)(n("0nRF")).default]})],Ot);let Et=class{};function St(t){return new o.a(t,"./assets/i18n/",".json")}Et=Object(i.__decorate)([Object(a.NgModule)({declarations:[bt,ft,dt,wt,gt,kt,ut,Ot],imports:[$.t,_t.GooglePlaceModule,s.c,xt,l.a,c.c,h.b,L,N.a,P.a,P.a.forRoot({apiKey:R.a.apiMapKey,libraries:["places"]}),d.e,m.l,p.b,M.a,z.a,H.a,r.b.forChild({loader:{provide:r.a,useFactory:St,deps:[U.b]},isolate:!0}),G.a.forRoot()],exports:[r.b]})],Et)},tg6x:function(t,e,n){"use strict";n.r(e),e.default='<app-spinner *ngIf="isPosting"></app-spinner>\n<div *ngIf="!isPosting" class="event-container" [formGroup]="eventFormGroup">\n  <a [routerLink]="[\'/events\']">\n    <div class="edit-news">back</div>\n  </a>\n  <div class="event-header">\n    <h3 *ngIf="!editMode">Create Event</h3>\n    <h3 *ngIf="editMode">Edit Event</h3>\n    <p>\n      Please provide as much details as you can - place and time of event, the goal of gathering etc. You can come back and update event\n      anytime after publishing\n    </p>\n  </div>\n  <div class="event-main">\n    <mat-card class="event-main-block left">\n      <div class="main-title">\n        <div class="title-input">\n          <div class="title-wrapper">\n            <mat-label>Enter name for Event</mat-label>\n            <mat-label>{{ eventFormGroup.get(\'titleForm\').value.length }}/70</mat-label>\n          </div>\n          <mat-form-field appearance="outline" class="event-input">\n            <mat-label>Event name up to 70 symbols.</mat-label>\n            <input matInput placeholder="title" formControlName="titleForm" />\n          </mat-form-field>\n        </div>\n        <div class="duration-choice">\n          <mat-label>Duration</mat-label>\n          <mat-form-field appearance="outline" class="date-item">\n            <mat-label>Min 1 day</mat-label>\n            <mat-select formControlName="eventDuration" ngDefaultControl (selectionChange)="setDateCount(+$event.value.split(\' \')[0])">\n              <mat-option *ngFor="let date of dateArrCount" [value]="date">\n                {{ date }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n      </div>\n\n      <div class="dateContainer">\n        <div *ngFor="let date of dates; index as i" class="dateEvent">\n          <span class="date-day">{{ i + 1 }} day</span>\n          <div class="date-event-block">\n            <app-event-date-time-picker\n              (datesForm)="checkForm($event, i)"\n              (coordOffline)="setCoordsOnlOff($event, i)"\n              (status)="checkStatus($event, i)"\n              [check]="date.check"\n              [editDate]="editEvent?.dates[i]"\n            ></app-event-date-time-picker>\n          </div>\n        </div>\n      </div>\n\n      <div class="textarea-wrapper">\n        <h3 class="textarea-title">Events Description</h3>\n        <div [ngClass]="eventFormGroup.get(\'description\').valid || checkAfterSend ? \'content\' : \'content content-error\'">\n          <quill-editor\n            class="editor"\n            ngDefaultControl\n            formControlName="description"\n            [modules]="quillModules"\n            placeholder="{{ \'create-news.content-placeholder\' | translate }}"\n          ></quill-editor>\n        </div>\n        <p class="textarea-description">{{ \'create-news.content-tooltip\' | translate }}</p>\n      </div>\n    </mat-card>\n    <mat-card class="event-main-block right">\n      <app-images-container\n        [imagesEditArr]="imagesForEdit"\n        (imgArrayOutput)="getImageTosend($event)"\n        (deleteImagesOutput)="getImagesToDelete($event)"\n      ></app-images-container>\n\n      <div class="buttons-container">\n        <mat-label>Initiative type</mat-label>\n        <p *ngIf="!checkAfterSend" [ngClass]="{ \'tag-error\': !isTagValid }">you should choose at least one type</p>\n        <div>\n          <ul class="ul-eco-buttons" aria-label="filter by items">\n            <li *ngFor="let tag of tags">\n              <a\n                role="button"\n                [attr.aria-pressed]="tag.isActive"\n                class="custom-chip global-tag"\n                [ngClass]="{ \'global-tag-clicked\': tag.isActive }"\n                tabindex="0"\n                (click)="checkTab(tag)"\n              >\n                <span class="text">{{ tag.nameEn }}</span>\n                <div [ngClass]="{ \'global-tag-close-icon\': tag.isActive }"></div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="buttons-container">\n        <mat-label>Event type</mat-label>\n        <div class="flex-container">\n          <a\n            role="button"\n            class="custom-chip global-tag"\n            [ngClass]="{ \'global-tag-clicked\': isOpen }"\n            tabindex="0"\n            (click)="changeToOpen()"\n          >\n            <span class="text">open</span>\n            <div [ngClass]="{ \'global-tag-close-icon\': isOpen }"></div>\n          </a>\n          <a\n            role="button"\n            class="custom-chip global-tag"\n            [ngClass]="{ \'global-tag-clicked\': !isOpen }"\n            tabindex="0"\n            (click)="changeToClose()"\n          >\n            <span class="text">close</span>\n            <div [ngClass]="{ \'global-tag-close-icon\': !isOpen }"></div>\n          </a>\n        </div>\n      </div>\n\n      <mat-form-field appearance="fill">\n        <mat-label>Invite</mat-label>\n        <select matNativeControl required>\n          <option value="All">All</option>\n          <option value="Frends">Frends</option>\n        </select>\n      </mat-form-field>\n    </mat-card>\n  </div>\n\n  <div class="submit-container">\n    <button mat-raised-button class="button" (click)="escapeFromCreateEvent()">Cancel</button>\n    <button mat-raised-button class="secondary-global-button">Preview</button>\n    <button mat-raised-button class="primary-global-button" (click)="onSubmit()">Publish</button>\n  </div>\n</div>\n'},"wVZ/":function(t,e,n){"use strict";n.r(e),e.default=".event {\n  padding: 0 100px;\n}\n\n.event-nav {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-nav .button-content {\n  display: flex;\n  align-items: center;\n}\n\n.event-nav .button-content .arrow {\n  margin-right: 20px;\n}\n\n.event-nav .edit-buttons {\n  display: flex;\n  cursor: pointer;\n}\n\n.event-nav .edit-buttons .delete-button {\n  border: none;\n}\n\n.event-nav .edit-buttons .event-button {\n  border-radius: 5px;\n  line-height: 16px;\n  min-width: 139px;\n  min-height: 40px;\n  padding: 8px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.event-nav .edit-buttons .event-button span {\n  display: block;\n  height: 16px;\n  white-space: nowrap;\n}\n\n.event-autor {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-autor .left-side {\n  display: flex;\n  align-items: center;\n}\n\n.event-autor .left-side .autor-name {\n  display: flex;\n  padding: 0;\n}\n\n.event-autor .left-side .autor-name div {\n  display: inline-block;\n  margin-right: 10px;\n}\n\n.event-stars {\n  width: 88px;\n  height: 20px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0;\n}\n\n.event-stars .star {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n\n.event-stars .fill {\n  background: url('star-filled.2a3b3d3c0b010a415acb.png') no-repeat center;\n}\n\n.event-stars .empty {\n  background: url('Vector.1d470aae7f6ca782d083.png') no-repeat center;\n}\n\n.event-main {\n  margin-top: 40px;\n  display: flex;\n}\n\n.event-main .event-place {\n  padding: 26px;\n  margin-top: 24px;\n}\n\n.event-main .event-place .date-container {\n  margin-top: 27px;\n  display: flex;\n  align-items: center;\n}\n\n.event-main .event-place .date-container > div {\n  margin-right: 20px;\n}\n\n.event-main .event-place .date-container .time-container {\n  display: flex;\n}\n\n.event-main .event-place .date-container .map-icon {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  background: url('place2.aff3e2b57f3900257745.png') no-repeat center;\n  background-size: cover;\n}\n\n.event-main .main-right {\n  padding: 0 32px;\n}\n\n.main-left {\n  flex: 0 0 456px;\n}\n\n.main-left .main-image {\n  box-shadow: 0 10px 20px var(--quaternary-grey);\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n  height: 450px;\n}\n\n.main-left .main-image .img {\n  display: none;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  opacity: 1;\n}\n\n.main-left .main-image .image-active {\n  display: block;\n}\n\n.main-left .main-image .dot-container {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.main-left .main-image .dot-container .dot {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background-color: var(--primary-white);\n  opacity: 0.4;\n  transition: 0.3s;\n  margin-right: 5px;\n}\n\n.main-left .main-image .dot-container .dot-active,\n.main-left .main-image .dot-container .dot:hover {\n  opacity: 1;\n}\n\n.main-left .main-image .button-arrow {\n  position: absolute;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n}\n\n.main-left .main-image .button-arrow span {\n  display: inline-block;\n  font-size: 65px;\n  line-height: 40px;\n  font-weight: bold;\n  color: var(--primary-white);\n  cursor: pointer;\n  opacity: 0.6;\n  transition: 0.3s;\n}\n\n.main-left .main-image .button-arrow span:hover {\n  opacity: 1;\n}\n\n.main-left .main-image .button-arrow.right {\n  right: 15px;\n}\n\n.main-left .main-image .button-arrow.left {\n  left: 15px;\n}\n\n.main-left .fade {\n  -webkit-animation-name: fade;\n          animation-name: fade;\n  -webkit-animation-duration: 1.2s;\n          animation-duration: 1.2s;\n}\n\n@-webkit-keyframes fade {\n  from {\n    opacity: 0.5;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fade {\n  from {\n    opacity: 0.5;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.event-status {\n  margin: 24px 0;\n}\n\n.event-status .initial {\n  display: flex;\n  margin-top: 18px;\n}\n\n.event-status .initial .initial-item {\n  margin-right: 20px;\n}\n\n.event-status .initial .status-title {\n  margin-right: 80px;\n}\n\n.event-status .initial .buttons-container .flex-container {\n  display: flex;\n}\n\n.ul-eco-buttons {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  overflow: auto;\n  white-space: nowrap;\n}\n\n.ul-eco-buttons li {\n  display: inline-block;\n}\n\n.ul-eco-buttons .tag {\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 22px;\n  padding: 0 10px;\n  text-transform: capitalize;\n  font-family: var(--primary-font);\n  color: var(--tertiary-grey);\n  border: 1px solid var(--tertiary-grey);\n  border-radius: 25px;\n  margin-right: 8px;\n}\n\n.ul-eco-buttons .tag-active {\n  color: var(--primary-white);\n}"}}]);