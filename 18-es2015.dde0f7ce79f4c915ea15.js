(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4y86":function(t,e,n){"use strict";n.r(e),e.default=".wrapper {\n  padding: 0 50px;\n}"},"7+5l":function(t,e,n){"use strict";n.r(e),e.default='<div class="example-card">\n  <div clas="image-container">\n    <div class="row">\n      <div class="title-wrapper">\n        <mat-label>Picture</mat-label>\n        <mat-label>{{ imageCount }}/5</mat-label>\n      </div>\n      <mat-label class="image-title">Download PNG or JPG only. File size should be less than 10MB</mat-label>\n      <div class="image-container" appDrag (files)="filesDropped($event)" *ngFor="let img of images; index as i">\n        <img class="image-preview" *ngIf="img.src" [src]="img.src" alt="image-of-violation" />\n        <div class="delete-block">\n          <div>{{ img.name }}</div>\n          <div (click)="deleteImage(i)">X</div>\n        </div>\n\n        <div *ngIf="img.isLabel" class="drag-inscription">\n          <label for="file-upload">\n            {{ img.label }}\n          </label>\n          <input\n            #takeInput\n            id="file-upload"\n            class="d-none"\n            [disabled]="false"\n            type="file"\n            accept="image/png,image/jpeg"\n            (change)="loadFile($event)"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},"7Y0F":function(t,e,n){"use strict";n.r(e),e.default=".date-container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.time-container {\n  display: flex;\n  width: 100%;\n}\n\n.time-item {\n  max-width: 102px;\n  margin-right: 10px;\n}\n\n.time-button {\n  min-width: 100%;\n}\n\n.date {\n  max-width: 124px;\n  margin-right: 20px;\n}\n\n.mat-form-field {\n  font-size: 12px;\n}\n\n.isOfline {\n  display: none;\n}\n\n.active {\n  display: block;\n}\n\n.active .mat-form-field {\n  width: 100%;\n}\n\n.example-margin {\n  margin-right: 20px;\n}"},"98Gv":function(t,e,n){"use strict";n.r(e),e.default=".google-map {\n  height: 100%;\n  width: 100%;\n  padding: 0 0 80px 0;\n}\n.google-map .map-button {\n  text-align: right;\n  margin: 10px 0 0 0;\n}\n.title {\n  font-size: 25px;\n  font-weight: bold;\n}\n.title span {\n  font-size: 20px;\n  font-weight: normal;\n}"},B6en:function(t,e,n){"use strict";n.r(e),e.default='<div [formGroup]="dateForm">\n  <div class="date-container">\n    <mat-form-field appearance="outline" class="date">\n      <mat-label>Choose a date </mat-label>\n      <input [min]="minDate" matInput [matDatepicker]="picker" formControlName="date" />\n      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n      <mat-datepicker #picker></mat-datepicker>\n    </mat-form-field>\n\n    <mat-form-field appearance="outline" class="time-item">\n      <mat-label>Set Start Time</mat-label>\n      <mat-select ngDefaultControl formControlName="startTime">\n        <mat-option *ngFor="let time of timeArrStart" [value]="time">\n          {{ time }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <h5 class="time-item">--</h5>\n    <mat-form-field appearance="outline" class="time-item">\n      <mat-label>Set End Time</mat-label>\n      <mat-select ngDefaultControl formControlName="endTime">\n        <mat-option *ngFor="let time of timeArrEnd" [value]="time">\n          {{ time }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-checkbox class="example-margin" [checked]="checkTime" (change)="checkIfAllDay()">all day</mat-checkbox>\n  </div>\n  <div class="checkbox">\n    <mat-checkbox class="example-margin" [checked]="checkOfflinePlace" (change)="checkIfOffline()">Place</mat-checkbox>\n    <mat-checkbox class="example-margin" [checked]="checkOnlinePlace" (change)="checkIfOnline()">Online</mat-checkbox>\n  </div>\n\n  <div *ngIf="dateForm.get(\'place\')" class="active">\n    <mat-label>Location</mat-label>\n    <mat-form-field appearance="outline">\n      <mat-label>Event Ofline place.</mat-label>\n      <input matInput #placesRef matGoogleMapsAutocomplete formControlName="place" />\n    </mat-form-field>\n  </div>\n\n  <div *ngIf="dateForm.get(\'onlineLink\')" class="active">\n    <mat-label>Online Link</mat-label>\n    <mat-form-field appearance="outline">\n      <mat-label>EventOnline link (should start with http:/).</mat-label>\n      <input matInput formControlName="onlineLink" />\n    </mat-form-field>\n  </div>\n</div>\n'},BRC3:function(t,e,n){"use strict";n.r(e),e.default='<div class="wrapper">\n  <div class="event-header">\n    <h1 class="main-header">{{ \'homepage.events.title\' | translate }}</h1>\n    <a class="create" [routerLink]="[\'create-event\']" *ngIf="isLoggedIn">\n      <div class="secondary-global-button create-button">\n        <span class="create-button-text">Create</span>\n      </div>\n    </a>\n  </div>\n\n  <div class="event-list">\n    <mat-card class="event-list-item" *ngFor="let eventItem of eventsList | paginate: pageConfig(items, page + 1, total)">\n      <app-events-list-item [event]="eventItem"></app-events-list-item>\n    </mat-card>\n  </div>\n  <pagination-controls *ngIf="checkPagination()" (pageChange)="setPage($event)"></pagination-controls>\n</div>\n'},HlEG:function(t,e,n){"use strict";n.r(e),e.default='<div class="wrapper">\n  <router-outlet></router-outlet>\n</div>\n'},QDJE:function(t,e,n){"use strict";n.r(e),e.default=".image-container {\n  position: relative;\n  width: 108px;\n  height: 64px;\n  background: var(--ubs-secondary-white);\n  border: 1px solid var(--ubs-primary-light-grey);\n  box-sizing: border-box;\n  margin: 1px 1px 50px 1px;\n}\n\n.drag-inscription {\n  font-size: 22px;\n  color: var(--quaternary-grey);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  text-align: center;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n}\n\n.delete-block {\n  justify-content: space-between;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--ubs-quaternary-light-grey);\n  opacity: 0.7;\n  width: 100%;\n  display: none;\n  max-height: 45px;\n}\n\n.delete-block:hover {\n  display: flex;\n  cursor: pointer;\n}\n\n.delete-block div:nth-of-type(1) {\n  width: calc(100% - 25px);\n  overflow: hidden;\n}\n\n.delete-block div:nth-of-type(2) {\n  width: 15px;\n}\n\n.image-preview {\n  width: 108px;\n  height: 64px;\n  -o-object-fit: contain;\n     object-fit: contain;\n  cursor: pointer;\n}\n\n.image-preview:hover + .delete-block {\n  display: flex;\n}\n\n.title-wrapper {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.image-title {\n  font-size: 12px;\n}"},UwCc:function(t,e,n){"use strict";n.r(e),e.default='<app-spinner *ngIf="isPosting"></app-spinner>\n<div *ngIf="event && !isPosting" class="event">\n  <div class="event-header">\n    <div class="event-nav">\n      <div class="back-button">\n        <a [routerLink]="[\'/events\']" class="button-link">\n          <div class="button-content">\n            <div class="button-arrow">\n              <img [src]="images.arrowLeft" aria-hidden="true" alt="arrow" class="button-arrow-img arrow" />\n            </div>\n            <div class="button-text">{{ \'eco-news-single-view.back-button\' | translate }}</div>\n          </div>\n        </a>\n      </div>\n      <div *ngIf="checkUserId()" class="edit-buttons">\n        <div class="secondary-global-button event-button delete-button">\n          <span (click)="deleteEvent()">Delete</span>\n        </div>\n        <div class="secondary-global-button event-button">\n          <span (click)="routeToEditEvent()">Edit</span>\n        </div>\n      </div>\n    </div>\n    <div class="event-title">\n      <h1>{{ event.title }}</h1>\n    </div>\n    <div class="event-autor">\n      <div class="left-side">\n        <div class="autor-name">\n          <div>Jan 30, 2020</div>\n          <div>|</div>\n          <div>by {{ event.organizer.name }}</div>\n        </div>\n        <div class="event-stars">\n          <span class="star fill"></span>\n          <span class="star empty"></span>\n          <span class="star empty"></span>\n        </div>\n      </div>\n      <div>right side</div>\n    </div>\n  </div>\n  <div class="event-main">\n    <div class="main-left">\n      <div *ngIf="imagesSlider.length" class="main-image">\n        <img\n          *ngFor="let image of imagesSlider; let i = index"\n          [src]="image"\n          [ngClass]="{ \'image-active\': sliderIndex === i }"\n          class="img fade"\n          alt="event"\n        />\n\n        <div class="dot-container">\n          <span\n            *ngFor="let dot of imagesSlider; let i = index"\n            class="dot"\n            [ngClass]="{ \'dot-active\': sliderIndex === i }"\n            (click)="selectImage(i)"\n          >\n          </span>\n        </div>\n\n        <div class="button-arrow right">\n          <span class="arrow-right" (click)="moveRight()">></span>\n        </div>\n        <div class="button-arrow left">\n          <span class="arrow-left" (click)="moveLeft()"><</span>\n        </div>\n      </div>\n\n      <mat-card class="event-place" *ngFor="let date of event.dates; let i = index">\n        <h5>Event day {{ i + 1 }}</h5>\n        <div class="event-stars">\n          <span class="star fill"></span>\n          <span class="star empty"></span>\n          <span class="star empty"></span>\n        </div>\n\n        <div class="date-container">\n          <div>\n            <h4>Start</h4>\n          </div>\n          <div class="date">\n            {{ date.startDate | date: \'mediumDate\' }}\n          </div>\n          <div class="time-container">\n            <div class="time">{{ date.startDate | date: \'HH:mm:ss\' }}-</div>\n            <div class="time">{{ date.finishDate | date: \'HH:mm:ss\' }}</div>\n          </div>\n        </div>\n        <div *ngIf="date.coordinates?.latitude" class="date-container">\n          <div>\n            <h4>Place</h4>\n          </div>\n          <div>\n            {{ date.coordinates.addressEn }}\n            <span (click)="openMap(date)" class="map-icon"></span>\n          </div>\n        </div>\n\n        <div *ngIf="date.onlineLink" class="date-container">\n          <div>\n            <h4>Online</h4>\n          </div>\n          <div>\n            {{ date.onlineLink }}\n          </div>\n        </div>\n      </mat-card>\n\n      <mat-card class="event-status">\n        <div class="initial">\n          <div class="initial-item">\n            <h5>Initiative type</h5>\n          </div>\n          <div class="initial-item">\n            <ul class="ul-eco-buttons" aria-label="filter by items">\n              <li *ngFor="let tag of tags">\n                <a role="button" [ngClass]="{ \'global-tag-clicked\': tag.isActive }" class="tag" tabindex="0">\n                  <span [ngClass]="{ \'tag-active\': tag.isActive }">{{ tag.nameEn }}</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <div class="initial">\n          <div class="status-title">\n            <h5>Status</h5>\n          </div>\n          <div class="buttons-container">\n            <div class="flex-container">\n              <a role="button" class="custom-chip global-tag" [ngClass]="{ \'global-tag-clicked\': event.open }" tabindex="0">\n                <span class="text">open</span>\n              </a>\n              <a role="button" class="custom-chip global-tag" [ngClass]="{ \'global-tag-clicked\': !event.open }" tabindex="0">\n                <span class="text">close</span>\n              </a>\n            </div>\n          </div>\n        </div>\n      </mat-card>\n    </div>\n\n    <div class="main-right">\n      <h3>Description</h3>\n      <div [innerHTML]="event.description"></div>\n    </div>\n  </div>\n</div>\n'},aEgp:function(t,e,n){"use strict";n.r(e),e.default=".wrapper {\n  padding: 20px 100px;\n}\n\n.event-header {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.create {\n  height: 40px;\n}\n\n.create .create-button {\n  border-radius: 5px;\n  line-height: 16px;\n  min-width: 139px;\n  min-height: 40px;\n  padding: 8px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.create .create-button span {\n  display: block;\n  height: 16px;\n  white-space: nowrap;\n}\n\n.event-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.event-list .mat-card {\n  padding: 0;\n}\n\n.event-list .event-list-item {\n  flex: 0 1 30%;\n  overflow: hidden;\n  margin: 0 0 30px 0;\n  background-color: var(--primary-light-grey);\n}"},gSny:function(t,e,n){"use strict";n.r(e),e.default='<div class="google-map">\n  <p class="title">\n    Event address:\n    <span>{{ adress }}</span>\n  </p>\n  <agm-map [style.width.%]="100" [style.height.%]="100" [zoom]="12" (mapReady)="onMapReady($event)">\n    <agm-marker\n      *ngIf="eventPlace"\n      [latitude]="eventPlace.location.lat"\n      [longitude]="eventPlace.location.lng"\n      [title]="markerContent"\n      (mouseOver)="markerOver(eventPlace)"\n      (mouseOut)="markerOut(eventPlace)"\n      [animation]="eventPlace.animation"\n    ></agm-marker>\n  </agm-map>\n  <div class="map-button">\n    <button mat-raised-button color="warn" (click)="closeMap()">Close</button>\n  </div>\n</div>\n'},i48p:function(t,e,n){"use strict";n.r(e),e.default=".dateContainer {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.dateEvent {\n  align-items: flex-start;\n  display: flex;\n  margin: 20px 0;\n}\n\n::ng-deep .ql-container {\n  min-height: 200px;\n}\n\n.content {\n  z-index: 2;\n  border: 2px solid #a19c9c;\n}\n\n.content-error {\n  border: 2px solid #f32121;\n}\n\n.event-container {\n  padding: 0 100px;\n}\n\n.event-header {\n  margin: 24px 0;\n}\n\n.main-title {\n  display: flex;\n  align-items: center;\n}\n\n.title-wrapper {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-main {\n  display: flex;\n}\n\n.event-main-block {\n  background: #f8f7f7;\n}\n\n.mat-form-field {\n  font-size: 12px;\n  padding-left: 0;\n}\n\n.event-input {\n  width: 484px;\n}\n\n.date-item {\n  width: 96px;\n}\n\n.duration-choice {\n  margin: 0 0 0 20px;\n}\n\n.left {\n  max-width: 652px;\n}\n\n.date-event-block {\n  margin: 0 0 0 20px;\n}\n\n.date-day {\n  background-color: #d8d5d5;\n  width: 64px;\n  height: 32px;\n  padding: 5px 0;\n  text-align: center;\n  margin-top: 10px;\n}\n\n.checkbox {\n  width: 150px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.right {\n  padding: 24px;\n  margin-left: 32px;\n}\n\n.buttons-container {\n  margin-bottom: 30px;\n}\n\n.tag-error {\n  color: red;\n}\n\n.label {\n  margin-bottom: 40px;\n}\n\n.ul-eco-buttons {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  overflow: auto;\n  white-space: nowrap;\n  min-height: 42px;\n}\n\n.ul-eco-buttons li {\n  display: inline-block;\n}\n\n.flex-container {\n  display: flex;\n  justify-content: flex-start;\n}\n\n.submit-container {\n  padding: 40px 0 60px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.submit-container button {\n  margin-left: 30px;\n}"},phI3:function(t,e,n){"use strict";n.r(e),n.d(e,"EventsModule",(function(){return wt})),n.d(e,"createTranslateLoader",(function(){return kt}));var i=n("mrSG"),a=n("fXoL"),s=n("ofXK"),r=n("sYmb"),o=n("mqiu"),l=n("iadO"),d=n("kmnG"),c=n("qFsG"),h=n("d3UM"),p=n("bTqV"),m=n("FKr1"),g=n("8LU1"),u=n("cH1L");const v=["*"],f=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],b=new a.InjectionToken("MAT_GRID_LIST");class y{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Object(g.f)(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Object(g.f)(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}y.\u0275fac=function(t){return new(t||y)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](b,8))},y.\u0275cmp=a["\u0275\u0275defineComponent"]({type:y,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&a["\u0275\u0275attribute"]("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:v,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275elementStart"](0,"figure",0),a["\u0275\u0275projection"](1),a["\u0275\u0275elementEnd"]())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),y.ctorParameters=()=>[{type:a.ElementRef},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[b]}]}],y.propDecorators={rowspan:[{type:a.Input}],colspan:[{type:a.Input}]};class x{constructor(t){this._element=t}ngAfterContentInit(){Object(m.D)(this._lines,this._element)}}x.\u0275fac=function(t){return new(t||x)(a["\u0275\u0275directiveInject"](a.ElementRef))},x.\u0275cmp=a["\u0275\u0275defineComponent"]({type:x,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(t,e,n){var i;(1&t&&a["\u0275\u0275contentQuery"](n,m.j,!0),2&t)&&(a["\u0275\u0275queryRefresh"](i=a["\u0275\u0275loadQuery"]())&&(e._lines=i))},ngContentSelectors:["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"],decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](f),a["\u0275\u0275projection"](0),a["\u0275\u0275elementStart"](1,"div",0),a["\u0275\u0275projection"](2,1),a["\u0275\u0275elementEnd"](),a["\u0275\u0275projection"](3,2))},encapsulation:2,changeDetection:0}),x.ctorParameters=()=>[{type:a.ElementRef}],x.propDecorators={_lines:[{type:a.ContentChildren,args:[m.j,{descendants:!0}]}]};class w{}w.\u0275fac=function(t){return new(t||w)},w.\u0275dir=a["\u0275\u0275defineDirective"]({type:w,selectors:[["","mat-grid-avatar",""],["","matGridAvatar",""]],hostAttrs:[1,"mat-grid-avatar"]});class k{}k.\u0275fac=function(t){return new(t||k)},k.\u0275dir=a["\u0275\u0275defineDirective"]({type:k,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]});class _{}_.\u0275fac=function(t){return new(t||_)},_.\u0275dir=a["\u0275\u0275defineDirective"]({type:_,selectors:[["mat-grid-tile-footer"]],hostAttrs:[1,"mat-grid-tile-footer"]});class O{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new E(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class E{constructor(t,e){this.row=t,this.col=e}}const I=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class S{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=A(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":T(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(t,n,i,a),this.setRowStyles(t,e,i,a)}setColStyles(t,e,n,i){let a=this.getBaseTileSize(n,i),s="rtl"===this._direction?"right":"left";t._setStyle(s,this.getTilePosition(a,e)),t._setStyle("width",T(this.getTileSize(a,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class D extends S{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){if(super.init(t,e,n,i),this.fixedRowHeight=A(this.fixedRowHeight),!I.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",T(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",T(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class j extends S{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){let a=n/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(a,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",T(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",T(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class C extends S{setRowStyles(t,e){let n=100/this._rowspan,i=(this._rows-1)/this._rows,a=this.getBaseTileSize(n,i);t._setStyle("top",this.getTilePosition(a,e)),t._setStyle("height",T(this.getTileSize(a,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function T(t){return`calc(${t})`}function A(t){return t.match(/([A-Za-z%]+)$/)?t:t+"px"}class F{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Object(g.f)(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=""+(null==t?"":t)}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=""+(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),"fit"===t?this._tileStyler=new C:t&&t.indexOf(":")>-1?this._tileStyler=new j(t):this._tileStyler=new D(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new O);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}F.\u0275fac=function(t){return new(t||F)(a["\u0275\u0275directiveInject"](a.ElementRef),a["\u0275\u0275directiveInject"](u.b,8))},F.\u0275cmp=a["\u0275\u0275defineComponent"]({type:F,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){var i;(1&t&&a["\u0275\u0275contentQuery"](n,y,!0),2&t)&&(a["\u0275\u0275queryRefresh"](i=a["\u0275\u0275loadQuery"]())&&(e._tiles=i))},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&a["\u0275\u0275attribute"]("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[a["\u0275\u0275ProvidersFeature"]([{provide:b,useExisting:F}])],ngContentSelectors:v,decls:2,vars:0,template:function(t,e){1&t&&(a["\u0275\u0275projectionDef"](),a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275projection"](1),a["\u0275\u0275elementEnd"]())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),F.ctorParameters=()=>[{type:a.ElementRef},{type:u.b,decorators:[{type:a.Optional}]}],F.propDecorators={_tiles:[{type:a.ContentChildren,args:[y,{descendants:!0}]}],cols:[{type:a.Input}],gutterSize:[{type:a.Input}],rowHeight:[{type:a.Input}]};class P{}P.\u0275mod=a["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||P)},imports:[[m.k,m.i],m.k,m.i]}),("undefined"==typeof ngJitMode||ngJitMode)&&a["\u0275\u0275setNgModuleScope"](P,{declarations:function(){return[F,y,x,k,_,w]},imports:function(){return[m.k,m.i]},exports:function(){return[F,y,x,m.k,m.i,k,_,w]}});var L=n("pxUr"),z=n("Qaz/"),R=n("3Pt+"),M=n("5tIC"),$=n("PCNd"),H=n("dlKe"),G=n("CzEO"),q=n("oOf3"),B=n("tyNb");const N={"emoji-shortname":!0,"emoji-textarea":!1,"emoji-toolbar":!0,toolbar:{container:[["bold","italic","underline","strike"],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],[{size:["small",!1,"large","huge"]}]]},imageResize:!0};var V=n("kzlf"),U=n.n(V),Z=(n("ah1v"),n("8xju")),J=n.n(Z),Q=n("jtHE"),K=n("nTic"),X=n("82Ky"),Y=n("l7P3"),W=n("9jGm"),tt=n("vojO");let et=class{constructor(t,e,n,i){this.router=t,this.localStorageService=e,this.actionsSubj=n,this.store=i,this.title="",this.dates=[],this.quillModules={},this.editorHTML="",this.isOpen=!0,this.places=[],this.isPosting=!1,this.checkAfterSend=!0,this.dateArrCount=K.d,this.imagesToDelete=[],this.oldImages=[],this.isAddressFill=!0,this.imgArray=[],this.pipe=new s.e("en-US"),this.destroyed$=new Q.a(1),this.quillModules=N,U.a.register("modules/imageResize",J.a)}ngOnInit(){this.editMode=this.localStorageService.getEditMode(),this.tags=K.c.reduce((t,e)=>[...t,Object.assign({},e)],[]),this.eventFormGroup=new R.h({titleForm:new R.f("",[R.v.required,R.v.minLength(1),R.v.maxLength(70)]),description:new R.f("",[R.v.required,R.v.minLength(28),R.v.maxLength(63206)]),eventDuration:new R.f("",[R.v.required,R.v.minLength(2)])}),this.editMode&&(this.editEvent=this.editMode?this.localStorageService.getEventForEdit():null,this.setEditValue())}setEditValue(){this.eventFormGroup.patchValue({titleForm:this.editEvent.title,eventDuration:this.dateArrCount[this.editEvent.dates.length-1],description:this.editEvent.description}),this.setDateCount(this.editEvent.dates.length),this.imagesForEdit=[this.editEvent.titleImage,...this.editEvent.additionalImages],this.tags.forEach(t=>t.isActive=this.editEvent.tags.some(e=>e.nameEn===t.nameEn)),this.isTagValid=this.tags.some(t=>t.isActive),this.isOpen=this.editEvent.open,this.oldImages=this.imagesForEdit}checkTab(t){t.isActive=!t.isActive,this.isTagValid=this.tags.some(t=>t.isActive)}checkForm(t,e){this.dates[e].date=t.date,this.dates[e].startDate=t.startTime,this.dates[e].finishDate=t.endTime,this.dates[e].onlineLink=t.onlineLink,this.isAddressFill=this.dates.some(t=>t.coordinatesDto.latitude||t.onlineLink)}checkStatus(t,e){this.dates[e].valid=t}escapeFromCreateEvent(){this.router.navigate(["/events"])}changeToOpen(){this.isOpen=!0}changeToClose(){this.isOpen=!1}setDateCount(t){this.dates=Array(t).fill(null).map(()=>Object.assign({},K.a))}getImageTosend(t){this.imgArray=[...t]}getImagesToDelete(t){this.imagesToDelete=t}getOldImages(t){this.oldImages=t}setCoordsOnlOff(t,e){this.dates[e].coordinatesDto=t,this.isAddressFill=this.dates.some(t=>t.coordinatesDto.latitude||t.onlineLink)}checkDates(){this.dates.forEach(t=>{t.check=!t.valid}),this.checkdates=!this.dates.some(t=>!t.valid)}getFormattedDate(t,e,n){const i=new Date(t);return i.setHours(e,n),i.toString()}createDates(){var t,e;const n=null===(t=this.dates.find(t=>t.coordinatesDto.latitude))||void 0===t?void 0:t.coordinatesDto,i=null===(e=this.dates.find(t=>t.onlineLink))||void 0===e?void 0:e.onlineLink;return this.dates.reduce((t,e)=>{e.startDate||(e.startDate=K.b.START),e.finishDate||(e.finishDate=K.b.END);const a=this.getFormattedDate(e.date,+e.startDate.split(":")[0],+e.startDate.split(":")[1]),s=this.getFormattedDate(e.date,+e.finishDate.split(":")[0],+e.finishDate.split(":")[1]),r=e.coordinatesDto.latitude?{latitude:e.coordinatesDto.latitude,longitude:e.coordinatesDto.longitude}:n,o={startDate:this.pipe.transform(a,"yyyy-MM-ddTHH:mm:ssZZZZZ"),finishDate:this.pipe.transform(s,"yyyy-MM-ddTHH:mm:ssZZZZZ"),coordinates:r,onlineLink:e.onlineLink?e.onlineLink:i};return t.push(o),t},[])}onSubmit(){let t;this.checkDates(),this.checkdates&&(t=this.createDates());const e=this.tags.filter(t=>t.isActive).reduce((t,e)=>[...t,e.nameEn],[]);let n={title:this.eventFormGroup.get("titleForm").value,description:this.eventFormGroup.get("description").value,open:this.isOpen,datesLocations:t,tags:e};if(this.editMode&&(n=Object.assign(Object.assign({},n),{imagesToDelete:this.imagesToDelete,additionalImages:this.oldImages.length>1?this.oldImages.slice(1):null,id:this.editEvent.id,titleImage:this.oldImages[0]})),this.checkdates&&this.eventFormGroup.valid&&this.isTagValid&&this.isAddressFill){this.checkAfterSend=!0;const t=new FormData,e=JSON.stringify(n),i=this.editMode?"eventDto":"addEventDtoRequest";t.append(i,e),this.imgArray.forEach(e=>{t.append("images",e)}),this.createEvent(t)}else this.eventFormGroup.markAllAsTouched(),this.checkAfterSend=!1}createEvent(t){this.isPosting=!0,this.editMode?this.store.dispatch(Object(tt.e)({data:t})):this.store.dispatch(Object(tt.a)({data:t})),this.actionsSubj.pipe(Object(W.d)(tt.g.CreateEcoEventSuccess,tt.g.EditEcoEventSuccess)).subscribe(()=>{this.isPosting=!1,this.escapeFromCreateEvent()})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}};et.ctorParameters=()=>[{type:B.g},{type:X.a},{type:Y.a},{type:Y.h}],et=Object(i.__decorate)([Object(a.Component)({selector:"app-create-edit-events",template:Object(i.__importDefault)(n("tg6x")).default,styles:[Object(i.__importDefault)(n("i48p")).default]})],et);var nt=n("0IaG"),it=n("IzEk"),at=n("tUeM"),st=n("7Gk6"),rt=n("g38E"),ot=n("XNiG"),lt=n("1G5W");let dt=class{constructor(t,e){this.matDialogRef=t,this.data=e,this.destroy$=new ot.a,this.markerContent="Event Address",this.location=new a.EventEmitter,this.regionOptions={types:["(regions)"],componentRestrictions:{country:"UA"}}}ngOnInit(){this.adress=this.data.address,this.eventPlace={location:{lat:this.data.lat,lng:this.data.lng},animation:"DROP"},this.matDialogRef.backdropClick().pipe(Object(lt.a)(this.destroy$)).subscribe(()=>{this.matDialogRef.close()})}onMapReady(t){this.map=t,this.data.lat&&this.map.setCenter({lat:this.data.lat,lng:this.data.lng})}markerOver(t){t.animation="BOUNCE"}markerOut(t){t.animation=""}closeMap(){this.matDialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};dt.ctorParameters=()=>[{type:nt.f},{type:void 0,decorators:[{type:a.Inject,args:[nt.a]}]}],Object(i.__decorate)([Object(a.Output)()],dt.prototype,"location",void 0),dt=Object(i.__decorate)([Object(a.Component)({selector:"app-map-event",template:Object(i.__importDefault)(n("gSny")).default,styles:[Object(i.__importDefault)(n("98Gv")).default]}),Object(i.__param)(1,Object(a.Inject)(nt.a))],dt);let ct=class{constructor(t,e,n,i,a,s,r){this.route=t,this.eventService=e,this.router=n,this.localStorageService=i,this.dialog=a,this.store=s,this.actionsSubj=r,this.images=st.a,this.imagesSlider=[],this.sliderIndex=0,this.deleteDialogData={popupTitle:"homepage.events.delete-title",popupConfirm:"homepage.events.delete-yes",popupCancel:"homepage.events.delete-no"},this.address="Should be adress"}ngOnInit(){this.localStorageService.setEditMode("canUserEdit",!0),this.getUserId(),this.tags=K.c.reduce((t,e)=>[...t,Object.assign({},e)],[]),this.setNewsId(),this.eventService.getEventById(this.eventId).subscribe(t=>{this.event=t,this.localStorageService.setEventForEdit("editEvent",this.event),this.imagesSlider=[t.titleImage,...t.additionalImages],this.filterTags(t.tags),this.mapDialogData={lat:this.event.dates[0].coordinates.latitude,lng:this.event.dates[0].coordinates.longitude}}),this.actionsSubj.pipe(Object(W.d)(tt.g.DeleteEcoEventSuccess)).subscribe(()=>this.router.navigate(["/events"]))}routeToEditEvent(){this.router.navigate(["/events","create-event"])}getUserId(){this.localStorageService.userIdBehaviourSubject.subscribe(t=>this.userId=t)}checkUserId(){return this.userId===this.event.organizer.id}filterTags(t){this.tags.forEach(e=>e.isActive=t.some(t=>t.nameEn===e.nameEn))}setNewsId(){this.eventId=this.route.snapshot.params.id}selectImage(t){this.sliderIndex=t}moveRight(){this.sliderIndex=this.sliderIndex===this.imagesSlider.length-1?0:++this.sliderIndex}moveLeft(){this.sliderIndex=0===this.sliderIndex?this.imagesSlider.length-1:--this.sliderIndex}openMap(t){const e={address:t.coordinates.addressEn,lat:t.coordinates.latitude,lng:t.coordinates.longitude};this.dialog.open(dt,{data:e,hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"",width:"900px",height:"400px"})}deleteEvent(){this.dialog.open(at.a,{data:this.deleteDialogData,hasBackdrop:!0,closeOnNavigation:!0,disableClose:!0,panelClass:"",width:"300px"}).afterClosed().pipe(Object(it.a)(1)).subscribe(t=>{t&&(this.store.dispatch(Object(tt.c)({id:this.eventId})),this.isPosting=!0)})}};ct.ctorParameters=()=>[{type:B.a},{type:rt.a},{type:B.g},{type:X.a},{type:nt.c},{type:Y.h},{type:Y.a}],ct=Object(i.__decorate)([Object(a.Component)({selector:"app-event-details",template:Object(i.__importDefault)(n("UwCc")).default,styles:[Object(i.__importDefault)(n("wVZ/")).default]})],ct);var ht=n("9ED3");let pt=class{constructor(t,e,n){this.store=t,this.userOwnAuthService=e,this.localStorageService=n,this.eventsList=[],this.destroyed$=new Q.a(1),this.ecoEvents$=this.store.select(t=>t.ecoEventsState),this.items=1,this.total=0,this.page=0,this.eventsPerPage=6}pageConfig(t,e,n){return{itemsPerPage:t,currentPage:e,totalItems:n}}ngOnInit(){this.localStorageService.setEditMode("canUserEdit",!1),this.checkUserSingIn(),this.userOwnAuthService.getDataFromLocalStorage(),this.ecoEvents$.subscribe(t=>{this.visitedPagesArr=t.visitedPages,this.total=t.totalPages,this.page=t.pageNumber,this.eventsList=t.eventsList[this.page],this.visitedPagesArr.some(t=>0===t)||this.store.dispatch(Object(tt.h)({currentPage:this.page,numberOfEvents:this.eventsPerPage}))})}checkPagination(){return this.total>this.items}checkUserSingIn(){this.userOwnAuthService.credentialDataSubject.subscribe(t=>this.isLoggedIn=t&&t.userId)}setPage(t){this.store.dispatch(Object(tt.h)({currentPage:t-1,numberOfEvents:this.eventsPerPage}))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}};pt.ctorParameters=()=>[{type:Y.h},{type:ht.a},{type:X.a}],pt=Object(i.__decorate)([Object(a.Component)({selector:"app-events-list",template:Object(i.__importDefault)(n("BRC3")).default,styles:[Object(i.__importDefault)(n("aEgp")).default]})],pt);let mt=class{constructor(t,e){this.translate=t,this.localStorageService=e}ngOnInit(){this.bindLang(this.localStorageService.getCurrentLanguage())}bindLang(t){this.translate.setDefaultLang(t)}};mt.ctorParameters=()=>[{type:r.c},{type:X.a}],mt=Object(i.__decorate)([Object(a.Component)({selector:"app-events",template:Object(i.__importDefault)(n("HlEG")).default,styles:[Object(i.__importDefault)(n("4y86")).default]})],mt);const gt=[{path:"",component:mt,children:[{path:"",component:pt},{path:"create-event",component:et},{path:":id",component:ct}]}];let ut=class{};ut=Object(i.__decorate)([Object(a.NgModule)({imports:[B.i.forChild(gt)],exports:[B.i]})],ut);var vt=n("tk/3");let ft=class{constructor(t){this.mapsAPILoader=t,this.minDate=new Date,this.timeArrStart=[],this.timeArrEnd=[],this.timeArr=[],this.coordinates={latitude:null,longitude:null},this.pipe=new s.e("en-US"),this.checkTime=!1,this.checkOfflinePlace=!1,this.checkOnlinePlace=!1,this.regionOptions={types:["address"],componentRestrictions:{country:"UA"}},this.status=new a.EventEmitter,this.datesForm=new a.EventEmitter,this.coordOffline=new a.EventEmitter}ngOnInit(){const t=(new Date).getDate();this.minDate.setDate(t+1),this.fillTimeArray(),this.dateForm=new R.h({date:new R.f("",[R.v.required]),startTime:new R.f("",[R.v.required]),endTime:new R.f("",[R.v.required])}),this.dateForm.valueChanges.subscribe(t=>{this.checkStartTime(t.startTime),this.checkEndTime(t.endTime),this.coordOffline.emit(this.coordinates),this.status.emit(this.dateForm.valid),this.datesForm.emit(t)}),this.editDate&&this.setEditData()}setEditData(){const t=this.pipe.transform(this.editDate.startDate,"H:mm"),e=this.pipe.transform(this.editDate.finishDate,"H:mm");"23:59"===e&&(this.checkTime=!0,this.dateForm.get("startTime").disable(),this.dateForm.get("endTime").disable()),this.dateForm.patchValue({date:this.editDate.startDate,startTime:t,endTime:e}),this.editDate.coordinates.latitude&&(this.checkOfflinePlace=!0,this.dateForm.addControl("place",new R.f("",[R.v.required])),setTimeout(()=>this.setPlaceAutocomplete(),0),this.coordinates.latitude=this.editDate.coordinates.latitude,this.coordinates.longitude=this.editDate.coordinates.longitude,this.coordOffline.emit(this.coordinates),this.dateForm.patchValue({place:this.editDate.coordinates.addressEn}),this.coordinates.latitude=this.editDate.coordinates.latitude,this.coordinates.longitude=this.editDate.coordinates.longitude),this.editDate.onlineLink&&(this.checkOnlinePlace=!0,this.dateForm.addControl("onlineLink",new R.f("",[R.v.required,R.v.pattern(/^$|^https?:\/\//)])),this.dateForm.patchValue({onlineLink:this.editDate.onlineLink}))}checkIfAllDay(){this.checkTime=!this.checkTime,this.checkTime?(this.dateForm.get("startTime").disable(),this.dateForm.get("endTime").disable()):(this.dateForm.get("startTime").enable(),this.dateForm.get("endTime").enable())}ngOnChanges(){this.check&&this.dateForm.markAllAsTouched()}checkIfOnline(){this.checkOnlinePlace=!this.checkOnlinePlace,this.checkOnlinePlace?this.dateForm.addControl("onlineLink",new R.f("",[R.v.required,R.v.pattern(/^$|^https?:\/\//)])):this.dateForm.removeControl("onlineLink")}checkIfOffline(){this.checkOfflinePlace=!this.checkOfflinePlace,this.checkOfflinePlace?(this.isOfline=!0,this.dateForm.addControl("place",new R.f("",[R.v.required])),setTimeout(()=>this.setPlaceAutocomplete(),0)):(this.isOfline=!1,this.coordinates.latitude=null,this.coordinates.longitude=null,this.coordOffline.emit(this.coordinates),this.autocomplete.unbindAll(),this.dateForm.removeControl("place"))}setPlaceAutocomplete(){this.mapsAPILoader.load().then(()=>{this.autocomplete=new google.maps.places.Autocomplete(this.placesRef.nativeElement,this.regionOptions),this.autocomplete.addListener("place_changed",()=>{const t=this.autocomplete.getPlace();this.coordinates.latitude=t.geometry.location.lat(),this.coordinates.longitude=t.geometry.location.lng(),this.coordOffline.emit(this.coordinates),this.dateForm.patchValue({place:t.formatted_address})})})}fillTimeArray(){for(let t=0;t<24;t++)this.timeArr.push(t+":00"),this.timeArrStart.push(t+":00"),this.timeArrEnd.push(t+":00")}checkEndTime(t){if(t){const e=t.split(":");this.timeArrStart=[...this.timeArr.slice(0,+e[0])]}}checkStartTime(t){if(t){const e=t.split(":");this.timeArrEnd=23==+e[0]?["23 : 59"]:[...this.timeArr.slice(+e[0]+1)]}}};ft.ctorParameters=()=>[{type:L.c}],Object(i.__decorate)([Object(a.Input)()],ft.prototype,"check",void 0),Object(i.__decorate)([Object(a.Input)()],ft.prototype,"editDate",void 0),Object(i.__decorate)([Object(a.Output)()],ft.prototype,"status",void 0),Object(i.__decorate)([Object(a.Output)()],ft.prototype,"datesForm",void 0),Object(i.__decorate)([Object(a.Output)()],ft.prototype,"coordOffline",void 0),Object(i.__decorate)([Object(a.ViewChild)("placesRef")],ft.prototype,"placesRef",void 0),ft=Object(i.__decorate)([Object(a.Component)({selector:"app-event-date-time-picker",template:Object(i.__importDefault)(n("B6en")).default,styles:[Object(i.__importDefault)(n("7Y0F")).default]})],ft);var bt=n("BhRD");let yt=class{constructor(t,e){this.localStorageService=t,this.snackBar=e,this.isImageTypeError=!1,this.dragAndDropLabel="+",this.imgArray=[],this.maxImages=5,this.images=[],this.imagesTodelete=[],this.imageCount=0,this.imgArrayOutput=new a.EventEmitter,this.deleteImagesOutput=new a.EventEmitter,this.oldImagesOutput=new a.EventEmitter}ngOnInit(){this.editMode=this.localStorageService.getEditMode(),this.initImages(),this.editMode&&(this.imageCount=this.imagesEditArr.length,this.images.forEach((t,e)=>{this.imagesEditArr[e]&&(t.src=this.imagesEditArr[e]),t.src&&(t.isLabel=!1),!t.src&&this.images[e-1].src&&(t.isLabel=!0)}))}initImages(){for(let t=0;t<this.maxImages;t++)this.images.push({src:null,label:this.dragAndDropLabel,isLabel:!1});this.images[0].isLabel=!0}filesDropped(t){const e=t[0].file;this.checkFileExtension(e),this.transferFile(e)}loadFile(t){const e=t.target.files[0];this.InputVar.nativeElement.value="",this.checkFileExtension(e),this.transferFile(e)}checkFileExtension(t){this.isImageSizeError=t.size>=1e7,this.isImageTypeError=!("image/jpeg"===t.type||"image/png"===t.type)}transferFile(t){if(this.isImageTypeError||this.isImageSizeError)this.isImageTypeError&&this.isImageSizeError?this.snackBar.openSnackBar("incorrect image type and size"):this.isImageTypeError?this.snackBar.openSnackBar("incorrect image type"):this.isImageSizeError&&this.snackBar.openSnackBar("incorrect image size");else{const e=new FileReader;this.imgArray.push(t),this.imgArrayOutput.emit(this.imgArray),this.editMode&&(this.deleteImagesOutput.emit(this.imagesTodelete),this.oldImagesOutput.emit(this.imagesEditArr)),e.readAsDataURL(t),e.onload=()=>{this.assignImage(e.result)}}}assignImage(t){for(let e=0;e<this.images.length;e++)if(!this.images[e].src){this.images[e].src=t,this.images[e+1]&&(this.images[e+1].isLabel=!0),this.images[e].isLabel=!1,this.imageCount++;break}}deleteImage(t){this.images.splice(t,1),this.imgArray.splice(t,1),this.imgArrayOutput.emit(this.imgArray);const e=5===this.imageCount;this.images.push({src:null,label:this.dragAndDropLabel,isLabel:e}),this.imageCount--,this.editMode&&this.imagesEditArr[t]&&(this.imagesTodelete.push(this.imagesEditArr[t]),this.imagesEditArr.splice(t,1)),this.editMode&&(this.deleteImagesOutput.emit(this.imagesTodelete),this.oldImagesOutput.emit(this.imagesEditArr))}};yt.ctorParameters=()=>[{type:X.a},{type:bt.a}],Object(i.__decorate)([Object(a.ViewChild)("takeInput")],yt.prototype,"InputVar",void 0),Object(i.__decorate)([Object(a.Input)()],yt.prototype,"imagesEditArr",void 0),Object(i.__decorate)([Object(a.Output)()],yt.prototype,"imgArrayOutput",void 0),Object(i.__decorate)([Object(a.Output)()],yt.prototype,"deleteImagesOutput",void 0),Object(i.__decorate)([Object(a.Output)()],yt.prototype,"oldImagesOutput",void 0),yt=Object(i.__decorate)([Object(a.Component)({selector:"app-images-container",template:Object(i.__importDefault)(n("7+5l")).default,styles:[Object(i.__importDefault)(n("QDJE")).default]})],yt);var xt=n("7itd");let wt=class{};function kt(t){return new o.a(t,"./assets/i18n/",".json")}wt=Object(i.__decorate)([Object(a.NgModule)({declarations:[mt,pt,et,ft,dt,yt,ct],imports:[R.t,xt.GooglePlaceModule,s.c,ut,l.a,c.c,p.b,P,q.a,L.a,L.a.forRoot({apiKey:z.a.apiMapKey,libraries:["places"]}),d.e,m.l,h.b,M.a,$.a,H.a,r.b.forChild({loader:{provide:r.a,useFactory:kt,deps:[vt.b]},isolate:!0}),G.a.forRoot()],exports:[r.b]})],wt)},tg6x:function(t,e,n){"use strict";n.r(e),e.default='<app-spinner *ngIf="isPosting"></app-spinner>\n<div *ngIf="!isPosting" class="event-container" [formGroup]="eventFormGroup">\n  <a [routerLink]="[\'/events\']">\n    <div class="edit-news">back</div>\n  </a>\n  <div class="event-header">\n    <h3 *ngIf="!editMode">Create Event</h3>\n    <h3 *ngIf="editMode">Edit Event</h3>\n    <p>\n      Please provide as much details as you can - place and time of event, the goal of gathering etc. You can come back and update event\n      anytime after publishing\n    </p>\n  </div>\n  <div class="event-main">\n    <mat-card class="event-main-block left">\n      <div class="main-title">\n        <div class="title-input">\n          <div class="title-wrapper">\n            <mat-label>Enter name for Event</mat-label>\n            <mat-label>{{ eventFormGroup.get(\'titleForm\').value.length }}/70</mat-label>\n          </div>\n          <mat-form-field appearance="outline" class="event-input">\n            <mat-label>Event name up to 70 symbols.</mat-label>\n            <input matInput placeholder="title" formControlName="titleForm" />\n          </mat-form-field>\n        </div>\n        <div class="duration-choice">\n          <mat-label>Duration</mat-label>\n          <mat-form-field appearance="outline" class="date-item">\n            <mat-label>Min 1 day</mat-label>\n            <mat-select formControlName="eventDuration" ngDefaultControl (selectionChange)="setDateCount(+$event.value.split(\' \')[0])">\n              <mat-option *ngFor="let date of dateArrCount" [value]="date">\n                {{ date }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n      </div>\n\n      <div class="dateContainer">\n        <p *ngIf="dates.length && !isAddressFill" class="tag-error">you shoud fiil at least one addres or link</p>\n        <div *ngFor="let date of dates; index as i" class="dateEvent">\n          <span class="date-day">{{ i + 1 }} day</span>\n          <div class="date-event-block">\n            <app-event-date-time-picker\n              (datesForm)="checkForm($event, i)"\n              (coordOffline)="setCoordsOnlOff($event, i)"\n              (status)="checkStatus($event, i)"\n              [check]="date.check"\n              [editDate]="editEvent?.dates[i]"\n            ></app-event-date-time-picker>\n          </div>\n        </div>\n      </div>\n\n      <div class="textarea-wrapper">\n        <h3 class="textarea-title">Events Description</h3>\n        <div [ngClass]="eventFormGroup.get(\'description\').valid || checkAfterSend ? \'content\' : \'content content-error\'">\n          <quill-editor\n            class="editor"\n            ngDefaultControl\n            formControlName="description"\n            [modules]="quillModules"\n            placeholder="{{ \'create-news.content-placeholder\' | translate }}"\n          ></quill-editor>\n        </div>\n        <p class="textarea-description">{{ \'create-news.content-tooltip\' | translate }}</p>\n      </div>\n    </mat-card>\n    <mat-card class="event-main-block right">\n      <app-images-container\n        [imagesEditArr]="imagesForEdit"\n        (imgArrayOutput)="getImageTosend($event)"\n        (deleteImagesOutput)="getImagesToDelete($event)"\n        (oldImagesOutput)="getOldImages($event)"\n      ></app-images-container>\n\n      <div class="buttons-container">\n        <mat-label>Initiative type</mat-label>\n        <p *ngIf="!checkAfterSend" [ngClass]="{ \'tag-error\': !isTagValid }">you should choose at least one type</p>\n        <div>\n          <ul class="ul-eco-buttons" aria-label="filter by items">\n            <li *ngFor="let tag of tags">\n              <a\n                role="button"\n                [attr.aria-pressed]="tag.isActive"\n                class="custom-chip global-tag"\n                [ngClass]="{ \'global-tag-clicked\': tag.isActive }"\n                tabindex="0"\n                (click)="checkTab(tag)"\n              >\n                <span class="text">{{ tag.nameEn }}</span>\n                <div [ngClass]="{ \'global-tag-close-icon\': tag.isActive }"></div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="buttons-container">\n        <mat-label>Event type</mat-label>\n        <div class="flex-container">\n          <a\n            role="button"\n            class="custom-chip global-tag"\n            [ngClass]="{ \'global-tag-clicked\': isOpen }"\n            tabindex="0"\n            (click)="changeToOpen()"\n          >\n            <span class="text">open</span>\n            <div [ngClass]="{ \'global-tag-close-icon\': isOpen }"></div>\n          </a>\n          <a\n            role="button"\n            class="custom-chip global-tag"\n            [ngClass]="{ \'global-tag-clicked\': !isOpen }"\n            tabindex="0"\n            (click)="changeToClose()"\n          >\n            <span class="text">close</span>\n            <div [ngClass]="{ \'global-tag-close-icon\': !isOpen }"></div>\n          </a>\n        </div>\n      </div>\n\n      <mat-form-field appearance="fill">\n        <mat-label>Invite</mat-label>\n        <select matNativeControl required>\n          <option value="All">All</option>\n          <option value="Frends">Frends</option>\n        </select>\n      </mat-form-field>\n    </mat-card>\n  </div>\n\n  <div class="submit-container">\n    <button mat-raised-button class="button" (click)="escapeFromCreateEvent()">Cancel</button>\n    <button mat-raised-button class="secondary-global-button">Preview</button>\n    <button mat-raised-button class="primary-global-button" (click)="onSubmit()">Publish</button>\n  </div>\n</div>\n'},"wVZ/":function(t,e,n){"use strict";n.r(e),e.default=".event {\n  padding: 0 100px;\n}\n\n.event-nav {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-nav .button-content {\n  display: flex;\n  align-items: center;\n}\n\n.event-nav .button-content .arrow {\n  margin-right: 20px;\n}\n\n.event-nav .edit-buttons {\n  display: flex;\n  cursor: pointer;\n}\n\n.event-nav .edit-buttons .delete-button {\n  border: none;\n}\n\n.event-nav .edit-buttons .event-button {\n  border-radius: 5px;\n  line-height: 16px;\n  min-width: 139px;\n  min-height: 40px;\n  padding: 8px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.event-nav .edit-buttons .event-button span {\n  display: block;\n  height: 16px;\n  white-space: nowrap;\n}\n\n.event-autor {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-autor .left-side {\n  display: flex;\n  align-items: center;\n}\n\n.event-autor .left-side .autor-name {\n  display: flex;\n  padding: 0;\n}\n\n.event-autor .left-side .autor-name div {\n  display: inline-block;\n  margin-right: 10px;\n}\n\n.event-stars {\n  width: 88px;\n  height: 20px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0;\n}\n\n.event-stars .star {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n\n.event-stars .fill {\n  background: url('star-filled.2a3b3d3c0b010a415acb.png') no-repeat center;\n}\n\n.event-stars .empty {\n  background: url('Vector.1d470aae7f6ca782d083.png') no-repeat center;\n}\n\n.event-main {\n  margin-top: 40px;\n  display: flex;\n}\n\n.event-main .event-place {\n  padding: 26px;\n  margin-top: 24px;\n}\n\n.event-main .event-place .date-container {\n  margin-top: 27px;\n  display: flex;\n  align-items: center;\n}\n\n.event-main .event-place .date-container > div {\n  margin-right: 20px;\n}\n\n.event-main .event-place .date-container .time-container {\n  display: flex;\n}\n\n.event-main .event-place .date-container .map-icon {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  background: url('place2.aff3e2b57f3900257745.png') no-repeat center;\n  background-size: cover;\n}\n\n.event-main .main-right {\n  padding: 0 32px;\n}\n\n.main-left {\n  flex: 0 0 456px;\n}\n\n.main-left .main-image {\n  box-shadow: 0 10px 20px var(--quaternary-grey);\n  border-radius: 10px;\n  overflow: hidden;\n  position: relative;\n  height: 450px;\n}\n\n.main-left .main-image .img {\n  display: none;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  opacity: 1;\n}\n\n.main-left .main-image .image-active {\n  display: block;\n}\n\n.main-left .main-image .dot-container {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.main-left .main-image .dot-container .dot {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background-color: var(--primary-white);\n  opacity: 0.4;\n  transition: 0.3s;\n  margin-right: 5px;\n}\n\n.main-left .main-image .dot-container .dot-active,\n.main-left .main-image .dot-container .dot:hover {\n  opacity: 1;\n}\n\n.main-left .main-image .button-arrow {\n  position: absolute;\n  bottom: 0;\n  top: 0;\n  display: flex;\n  align-items: center;\n}\n\n.main-left .main-image .button-arrow span {\n  display: inline-block;\n  font-size: 65px;\n  line-height: 40px;\n  font-weight: bold;\n  color: var(--primary-white);\n  cursor: pointer;\n  opacity: 0.6;\n  transition: 0.3s;\n}\n\n.main-left .main-image .button-arrow span:hover {\n  opacity: 1;\n}\n\n.main-left .main-image .button-arrow.right {\n  right: 15px;\n}\n\n.main-left .main-image .button-arrow.left {\n  left: 15px;\n}\n\n.main-left .fade {\n  -webkit-animation-name: fade;\n          animation-name: fade;\n  -webkit-animation-duration: 1.2s;\n          animation-duration: 1.2s;\n}\n\n@-webkit-keyframes fade {\n  from {\n    opacity: 0.5;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fade {\n  from {\n    opacity: 0.5;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.event-status {\n  margin: 24px 0;\n}\n\n.event-status .initial {\n  display: flex;\n  margin-top: 18px;\n}\n\n.event-status .initial .initial-item {\n  margin-right: 20px;\n}\n\n.event-status .initial .status-title {\n  margin-right: 80px;\n}\n\n.event-status .initial .buttons-container .flex-container {\n  display: flex;\n}\n\n.ul-eco-buttons {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  overflow: auto;\n  white-space: nowrap;\n}\n\n.ul-eco-buttons li {\n  display: inline-block;\n}\n\n.ul-eco-buttons .tag {\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 22px;\n  padding: 0 10px;\n  text-transform: capitalize;\n  font-family: var(--primary-font);\n  color: var(--tertiary-grey);\n  border: 1px solid var(--tertiary-grey);\n  border-radius: 25px;\n  margin-right: 8px;\n}\n\n.ul-eco-buttons .tag-active {\n  color: var(--primary-white);\n}"}}]);