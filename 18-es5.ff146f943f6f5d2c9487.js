function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"4y86":function(e,t,n){"use strict";n.r(t),t.default=".wrapper {\n  padding: 0 50px;\n}"},"7+5l":function(e,t,n){"use strict";n.r(t),t.default='<div class="example-card">\n  <div clas="image-container">\n    <div class="row">\n      <div class="title-wrapper">\n        <mat-label>Picture</mat-label>\n        <mat-label>{{ imageCount }}/5</mat-label>\n      </div>\n      <mat-label class="image-title">Download PNG or JPG only. File size should be less than 10MB</mat-label>\n      <div class="image-container" appDrag (files)="filesDropped($event)" *ngFor="let img of images; index as i">\n        <img class="image-preview" *ngIf="img.src" [src]="img.src" alt="image-of-violation" />\n        <div class="delete-block">\n          <div>{{ img.name }}</div>\n          <div (click)="deleteImage(i)">X</div>\n        </div>\n\n        <div *ngIf="img.isLabel" class="drag-inscription">\n          <label for="file-upload">\n            {{ img.label }}\n          </label>\n          <input\n            #takeInput\n            id="file-upload"\n            class="d-none"\n            [disabled]="false"\n            type="file"\n            accept="image/png,image/jpeg"\n            (change)="loadFile($event)"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},"7Y0F":function(e,t,n){"use strict";n.r(t),t.default=".date-container {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.time-container {\n  display: flex;\n  width: 100%;\n}\n\n.time-item {\n  max-width: 102px;\n  margin-right: 10px;\n}\n\n.time-button {\n  min-width: 100%;\n}\n\n.date {\n  max-width: 124px;\n  margin-right: 20px;\n}\n\n.mat-form-field {\n  font-size: 12px;\n}\n\n.isOfline {\n  display: none;\n}\n\n.active {\n  display: block;\n}\n\n.active .mat-form-field {\n  width: 100%;\n}\n\n.example-margin {\n  margin-right: 20px;\n}"},"98Gv":function(e,t,n){"use strict";n.r(t),t.default=".google-map {\n  height: 340px;\n  padding: 0 0 80px 0;\n}"},B6en:function(e,t,n){"use strict";n.r(t),t.default='<div [formGroup]="dateForm">\n  <div class="date-container">\n    <mat-form-field appearance="outline" class="date">\n      <mat-label>Choose a date </mat-label>\n      <input [min]="minDate" matInput [matDatepicker]="picker" formControlName="date" />\n      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>\n      <mat-datepicker #picker></mat-datepicker>\n    </mat-form-field>\n\n    <mat-form-field appearance="outline" class="time-item">\n      <mat-label>Set Start Time</mat-label>\n      <mat-select formControlName="startTime">\n        <mat-option *ngFor="let time of timeArrStart" [value]="time">\n          {{ time }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n    <h5 class="time-item">--</h5>\n    <mat-form-field appearance="outline" class="time-item">\n      <mat-label>Set End Time</mat-label>\n      <mat-select formControlName="endTime">\n        <mat-option *ngFor="let time of timeArrEnd" [value]="time">\n          {{ time }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-checkbox class="example-margin" (change)="checkIfAllDay($event)">all day</mat-checkbox>\n  </div>\n  <div class="checkbox">\n    <mat-checkbox class="example-margin" (change)="checkIfOffline($event)">Place</mat-checkbox>\n    <mat-checkbox class="example-margin" (change)="checkIfOnline($event)">Online</mat-checkbox>\n  </div>\n\n  <div *ngIf="dateForm.get(\'place\')" class="active">\n    <mat-label>Location</mat-label>\n    <mat-form-field appearance="outline">\n      <mat-label>Event Ofline place.</mat-label>\n      <input matInput #placesRef matGoogleMapsAutocomplete formControlName="place" />\n    </mat-form-field>\n  </div>\n\n  <div *ngIf="dateForm.get(\'onlineLink\')" class="active">\n    <mat-label>Online Link</mat-label>\n    <mat-form-field appearance="outline">\n      <mat-label>EventOnline link (should start with http:/).</mat-label>\n      <input matInput formControlName="onlineLink" />\n    </mat-form-field>\n  </div>\n</div>\n'},BRC3:function(e,t,n){"use strict";n.r(t),t.default='<div class="wrapper">\n  <h1>Event-list</h1>\n\n  <div class="cont">\n    <h1 class="main-header">{{ \'homepage.events.title\' | translate }}</h1>\n    <a class="create" [routerLink]="[\'create-event\']" *ngIf="isLoggedIn">\n      <div class="secondary-global-button create-button">\n        <span class="create-button-text">Create</span>\n      </div>\n    </a>\n  </div>\n\n  <div class="event-list">\n    <mat-card\n      class="event-list-item"\n      *ngFor="\n        let event of eventsList\n          | paginate\n            : {\n                itemsPerPage: 9,\n                currentPage: page,\n                totalItems: total\n              }\n      "\n    >\n      <div class="image-container">\n        <img class="event-image" src="{{ event.titleImage }}" alt="event" />\n        <div class="event-stars">\n          <span class="fill"></span>\n          <span class="empty"></span>\n          <span class="empty"></span>\n        </div>\n        <div class="event-flags">\n          <span class="flag"></span>\n        </div>\n        <div class="event-title">\n          <h3>{{ event.title }}</h3>\n        </div>\n      </div>\n\n      <div class="main-container">\n        <div *ngIf="event.dates[0]" class="date-container">\n          <span class="clock"></span>\n          <div class="date">\n            {{ event.dates[0].startDate | date }}\n          </div>\n          <h5>{{ \' | \' }}</h5>\n          <div class="time">{{ event.dates[0].startDate | date: \'shortTime\' }}...</div>\n        </div>\n        <div *ngIf="event.dates[0]" class="date-container">\n          <div>\n            <span class="place"></span>\n          </div>\n          <div>\n            {{ \'Here should be adrress\' }}\n          </div>\n        </div>\n\n        <div [innerHTML]="event.description"></div>\n\n        <button class="secondary-global-button event-button">More</button>\n        <button class="primary-global-button event-button">Join Event</button>\n      </div>\n    </mat-card>\n\n    <pagination-controls (pageChange)="setPage($event)"></pagination-controls>\n  </div>\n</div>\n'},HlEG:function(e,t,n){"use strict";n.r(t),t.default='<div class="wrapper">\n  <router-outlet></router-outlet>\n</div>\n'},QDJE:function(e,t,n){"use strict";n.r(t),t.default=".image-container {\n  position: relative;\n  width: 108px;\n  height: 64px;\n  background: var(--ubs-secondary-white);\n  border: 1px solid var(--ubs-primary-light-grey);\n  box-sizing: border-box;\n  margin: 1px 1px 50px 1px;\n}\n\n.drag-inscription {\n  font-size: 22px;\n  color: var(--quaternary-grey);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  text-align: center;\n  transform: translate(-50%, -50%);\n  cursor: pointer;\n}\n\n.delete-block {\n  justify-content: space-between;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: var(--ubs-quaternary-light-grey);\n  opacity: 0.7;\n  width: 100%;\n  display: none;\n  max-height: 45px;\n}\n\n.delete-block:hover {\n  display: flex;\n  cursor: pointer;\n}\n\n.delete-block div:nth-of-type(1) {\n  width: calc(100% - 25px);\n  overflow: hidden;\n}\n\n.delete-block div:nth-of-type(2) {\n  width: 15px;\n}\n\n.image-preview {\n  width: 108px;\n  height: 64px;\n  -o-object-fit: contain;\n     object-fit: contain;\n  cursor: pointer;\n}\n\n.image-preview:hover + .delete-block {\n  display: flex;\n}\n\n.title-wrapper {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.image-title {\n  font-size: 12px;\n}"},aEgp:function(e,t,n){"use strict";n.r(t),t.default=".cont {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n\n.flex-container {\n  display: flex;\n  justify-content: space-between;\n}\n\n.wrapper {\n  padding: 20px 100px;\n}\n\n.list-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.list-wrapper .list {\n  list-style: none;\n  padding-left: 0;\n}\n\n.gallery-view-active {\n  display: grid;\n  grid-template-columns: repeat(3, 359px);\n  grid-gap: 32px;\n}\n\n.list-view-li-active {\n  margin-bottom: 32px;\n}\n\n.create {\n  height: 40px;\n}\n\n.create .create-button {\n  border-radius: 5px;\n  line-height: 16px;\n  min-width: 139px;\n  min-height: 40px;\n  padding: 8px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.create .create-button span {\n  display: block;\n  height: 16px;\n  white-space: nowrap;\n}\n\n.eventImage {\n  max-width: 400px;\n  margin: 40px;\n}\n\n.img {\n  max-width: 100px;\n}\n\n.listContainer {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n.event-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.event-list .mat-card {\n  padding: 0;\n}\n\n.event-list .event-list-item {\n  flex: 0 1 30%;\n  overflow: hidden;\n  margin: 0 0 30px 0;\n  background-color: #f0ebeb;\n}\n\n.image-container {\n  width: 100%;\n  height: 204px;\n  overflow: hidden;\n  position: relative;\n}\n\n.image-container .event-image {\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\n.image-container .event-stars {\n  width: 88px;\n  height: 40px;\n  background-color: rgba(224, 233, 233, 0.781);\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 5px;\n}\n\n.image-container .event-stars span {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n\n.image-container .event-stars .fill {\n  background: url('star-filled.2a3b3d3c0b010a415acb.png') no-repeat center;\n}\n\n.image-container .event-stars .empty {\n  background: url('Vector.1d470aae7f6ca782d083.png') no-repeat center;\n}\n\n.image-container .event-flags {\n  width: 40px;\n  height: 40px;\n  background-color: rgba(224, 233, 233, 0.781);\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.image-container .event-flags span {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n\n.image-container .event-flags .flag {\n  background: url('bookmark-set.aa47ea09c1f7874d271a.png') no-repeat center;\n}\n\n.image-container .event-title {\n  width: 100%;\n  background-color: rgba(26, 27, 27, 0.247);\n  color: beige;\n  text-align: center;\n  position: absolute;\n  bottom: 0;\n}\n\n.main-container {\n  padding: 16px 24px;\n}\n\n.main-container .date-container {\n  display: flex;\n  align-items: center;\n}\n\n.main-container .date-container .main-container .date-container span {\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n}\n\n.main-container .date-container .clock {\n  background: url('clock.56bdf3712f7227dfdb1e.png') no-repeat center;\n}\n\n.main-container .date-container .place {\n  background: url('place.32e28c6b13018b2090d7.png') no-repeat center;\n}\n\n.main-container .event-button {\n  display: block;\n  width: 100%;\n  margin: 10px 0;\n  height: 40px;\n}"},gSny:function(e,t,n){"use strict";n.r(t),t.default='<div class="google-map">\n  <mat-checkbox class="example-margin" [(ngModel)]="mapDeactivate" [labelPosition]="\'before\'" (change)="showCurLocation()"\n    >Show Your curent location</mat-checkbox\n  >\n  <p>Event address: {{ adress }}</p>\n  <agm-map [style.width.%]="100" [style.height.%]="100" [zoom]="12" (mapReady)="onMapReady($event)" (mapClick)="addMarker($event)">\n    <agm-marker\n      *ngIf="eventPlace"\n      [latitude]="eventPlace.location.lat"\n      [longitude]="eventPlace.location.lng"\n      [title]="markerContent"\n      (mouseOver)="markerOver(eventPlace)"\n      (mouseOut)="markerOut(eventPlace)"\n      [animation]="eventPlace.animation"\n    ></agm-marker>\n  </agm-map>\n  <button mat-raised-button color="warn" (click)="deletePlace()">Clear Mark</button>\n</div>\n'},i48p:function(e,t,n){"use strict";n.r(t),t.default=".dateContainer {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.dateEvent {\n  align-items: flex-start;\n  display: flex;\n  margin: 20px 0;\n}\n\n::ng-deep .ql-container {\n  min-height: 200px;\n}\n\n.content {\n  z-index: 2;\n  border: 2px solid #a19c9c;\n}\n\n.content-error {\n  border: 2px solid #f32121;\n}\n\n.event-container {\n  padding: 0 100px;\n}\n\n.event-header {\n  margin: 24px 0;\n}\n\n.main-title {\n  display: flex;\n  align-items: center;\n}\n\n.title-wrapper {\n  display: flex;\n  justify-content: space-between;\n}\n\n.event-main {\n  display: flex;\n}\n\n.event-main-block {\n  background: #f8f7f7;\n}\n\n.mat-form-field {\n  font-size: 12px;\n  padding-left: 0;\n}\n\n.event-input {\n  width: 484px;\n}\n\n.date-item {\n  width: 96px;\n}\n\n.duration-choice {\n  margin: 0 0 0 20px;\n}\n\n.left {\n  max-width: 652px;\n}\n\n.date-event-block {\n  margin: 0 0 0 20px;\n}\n\n.date-day {\n  background-color: #d8d5d5;\n  width: 64px;\n  height: 32px;\n  padding: 5px 0;\n  text-align: center;\n  margin-top: 10px;\n}\n\n.checkbox {\n  width: 150px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.right {\n  padding: 24px;\n  margin-left: 32px;\n}\n\n.buttons-container {\n  margin-bottom: 30px;\n}\n\n.label {\n  margin-bottom: 40px;\n}\n\n.ul-eco-buttons {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  overflow: auto;\n  white-space: nowrap;\n  min-height: 42px;\n}\n\n.ul-eco-buttons li {\n  display: inline-block;\n}\n\n.flex-container {\n  display: flex;\n  justify-content: flex-start;\n}\n\n.submit-container {\n  padding: 40px 0 60px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.submit-container button {\n  margin-left: 30px;\n}"},phI3:function(e,t,n){"use strict";n.r(t),n.d(t,"EventsModule",(function(){return V})),n.d(t,"createTranslateLoader",(function(){return Z}));var a=n("mrSG"),i=n("fXoL"),o=n("ofXK"),r=n("sYmb"),s=n("mqiu"),l=n("iadO"),c=n("kmnG"),d=n("qFsG"),p=n("d3UM"),u=n("bTqV"),m=n("pxUr"),h=n("Qaz/"),f=n("3Pt+"),g=n("5tIC"),v=n("PCNd"),b=n("dlKe"),y=n("CzEO"),k=n("oOf3"),x=n("tyNb"),w={"emoji-shortname":!0,"emoji-textarea":!1,"emoji-toolbar":!0,toolbar:{container:[["bold","italic","underline","strike"],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],[{size:["small",!1,"large","huge"]}]]},imageResize:!0},O=n("tk/3"),C=n("jtHE"),_=n("AytR"),A=function(){function e(t){_classCallCheck(this,e),this.http=t,this.backEnd=_.a.backendLink,this.accessToken=localStorage.getItem("accessToken"),this.destroyed$=new C.a(1),this.httpOptions={headers:new O.d({Authorization:"my-auth-token"})}}return _createClass(e,[{key:"createEvent",value:function(e){return this.http.post(this.backEnd+"events/create",e)}},{key:"getEvents",value:function(e,t){return this.http.get("".concat(this.backEnd,"events?page=").concat(e,"&size=").concat(t))}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}}]),e}();A.ctorParameters=function(){return[{type:O.b}]},A=Object(a.__decorate)([Object(i.Injectable)({providedIn:"root"})],A);var j=n("kzlf"),D=n.n(j),I=(n("ah1v"),n("8xju")),E=n.n(I),L=n("JIr8"),F=n("BhRD"),P=n("z6cu"),T=function(){function e(t,n,a){_classCallCheck(this,e),this.eventService=t,this.router=n,this.injector=a,this.title="",this.dates=[],this.imgArray=[],this.quillModules={},this.editorHTML="",this.isOpen=!0,this.places=[],this.isPosting=!1,this.checkAfterSend=!0,this.pipe=new o.e("en-US"),this.dateArrCount=["1 day","2 days","3 days","4 days","5 days","6 days","7 days"],this.filters=[{name:"Environmental",isActive:!1},{name:"Social",isActive:!0},{name:"Economic",isActive:!0}],this.quillModules=w,D.a.register("modules/imageResize",E.a),this.snackBar=a.get(F.a)}return _createClass(e,[{key:"ngOnInit",value:function(){this.titleForm=new f.f("",[f.v.required,f.v.minLength(1),f.v.maxLength(70)])}},{key:"checkTab",value:function(e){e.isActive=!e.isActive}},{key:"checkForm",value:function(e,t){this.dates[t].date=e.date,this.dates[t].startDate=e.startTime,this.dates[t].finishDate=e.endTime,this.dates[t].onlineLink=e.onlineLink}},{key:"checkStatus",value:function(e,t){this.dates[t].valid=e}},{key:"escapeFromCreateEvent",value:function(){this.router.navigate(["/events"])}},{key:"changeToOpen",value:function(){this.isOpen=!0}},{key:"changeToClose",value:function(){this.isOpen=!1}},{key:"setDateCount",value:function(e){this.dates.length=+e.value.split(" ")[0];for(var t=0;t<this.dates.length;t++)this.dates[t]={date:null,startDate:"",finishDate:"",coordinatesDto:{latitude:null,longitude:null},onlineLink:"",valid:!1,check:!1}}},{key:"getImageTosend",value:function(e){this.imgArray=_toConsumableArray(e)}},{key:"changedEditor",value:function(e){"selection-change"!==e.event&&(this.editorHTML=e.html,this.contentValid=!(e.text.length<20||e.text.length>63206))}},{key:"setCoordsOnlOff",value:function(e,t){this.dates[t].coordinatesDto.latitude=e.latitude,this.dates[t].coordinatesDto.longitude=e.longitude}},{key:"checkDates",value:function(){this.dates.forEach((function(e){e.check=!e.valid})),this.checkdates=!this.dates.find((function(e){return!e.valid}))}},{key:"getFormattedDate",value:function(e,t,n){var a=new Date(e);return a.setHours(t,n),a.toString()}},{key:"createDates",value:function(){var e=this;return this.dates.reduce((function(t,n){n.startDate||(n.startDate="00 : 00"),n.finishDate||(n.finishDate="23 : 59");var a=e.getFormattedDate(n.date,+n.startDate.split(":")[0],+n.startDate.split(":")[1]),i=e.getFormattedDate(n.date,+n.finishDate.split(":")[0],+n.finishDate.split(":")[1]),o={startDate:e.pipe.transform(a,"yyyy-MM-ddTHH:mm:ssZZZZZ"),finishDate:e.pipe.transform(i,"yyyy-MM-ddTHH:mm:ssZZZZZ"),coordinates:{latitude:n.coordinatesDto.latitude,longitude:n.coordinatesDto.longitude},onlineLink:n.onlineLink};return t.push(o),t}),[])}},{key:"onSubmit",value:function(){var e,t=this;this.checkDates(),this.checkdates&&(e=this.createDates());var n=this.filters.filter((function(e){return e.isActive})).reduce((function(e,t){return[].concat(_toConsumableArray(e),[t.name])}),[]),a={title:this.titleForm.value,description:this.editorHTML,open:this.isOpen,datesLocations:e,tags:n};if(this.checkdates&&this.titleForm.valid&&this.contentValid){this.checkAfterSend=!0;var i=new FormData,o=JSON.stringify(a);i.append("addEventDtoRequest",o),this.imgArray.forEach((function(e){i.append("images",e)})),this.isPosting=!0,this.eventService.createEvent(i).pipe(Object(L.a)((function(e){return t.snackBar.openSnackBar("Oops, something went wrong. Please reload page or try again later."),t.router.navigate(["/events"]),Object(P.a)(e)}))).subscribe((function(){t.isPosting=!1,t.router.navigate(["/events"])}))}else this.titleForm.markAsTouched(),this.checkAfterSend=!1}}]),e}();T.ctorParameters=function(){return[{type:A},{type:x.g},{type:i.Injector}]},T=Object(a.__decorate)([Object(i.Component)({selector:"app-create-edit-events",template:Object(a.__importDefault)(n("tg6x")).default,styles:[Object(a.__importDefault)(n("i48p")).default]})],T);var S=n("9ED3"),M=function(){function e(t,n){_classCallCheck(this,e),this.eventService=t,this.userOwnAuthService=n,this.eventsList=[],this.destroyed$=new C.a(1),this.total=0,this.page=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.checkUserSingIn(),this.userOwnAuthService.getDataFromLocalStorage(),this.eventService.getEvents(this.page,9).subscribe((function(t){e.eventsList=_toConsumableArray(t.page),e.total=t.totalElements}))}},{key:"checkUserSingIn",value:function(){var e=this;this.userOwnAuthService.credentialDataSubject.subscribe((function(t){return e.isLoggedIn=t&&t.userId}))}},{key:"setPage",value:function(e){var t=this;this.page=e,this.eventService.getEvents(e-1,9).subscribe((function(e){t.eventsList=_toConsumableArray(e.page)}))}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}}]),e}();M.ctorParameters=function(){return[{type:A},{type:S.a}]},M=Object(a.__decorate)([Object(i.Component)({selector:"app-events-list",template:Object(a.__importDefault)(n("BRC3")).default,styles:[Object(a.__importDefault)(n("aEgp")).default]})],M);var $=n("82Ky"),R=function(){function e(t,n){_classCallCheck(this,e),this.translate=t,this.localStorageService=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.bindLang(this.localStorageService.getCurrentLanguage())}},{key:"bindLang",value:function(e){this.translate.setDefaultLang(e)}}]),e}();R.ctorParameters=function(){return[{type:r.c},{type:$.a}]};var q=[{path:"",component:R=Object(a.__decorate)([Object(i.Component)({selector:"app-events",template:Object(a.__importDefault)(n("HlEG")).default,styles:[Object(a.__importDefault)(n("4y86")).default]})],R),children:[{path:"",component:M},{path:"create-event",component:T}]}],z=function e(){_classCallCheck(this,e)};z=Object(a.__decorate)([Object(i.NgModule)({imports:[x.i.forChild(q)],exports:[x.i]})],z);var H=n("FKr1"),G=function(){function e(t){_classCallCheck(this,e),this.mapsAPILoader=t,this.minDate=new Date,this.timeArrStart=[],this.timeArrEnd=[],this.timeArr=[],this.coordinates={latitude:null,longitude:null},this.regionOptions={types:["(regions)"],componentRestrictions:{country:"UA"}},this.status=new i.EventEmitter,this.datesForm=new i.EventEmitter,this.coordOffline=new i.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=(new Date).getDate();this.minDate.setDate(t+1),this.fillTimeArray(),this.dateForm=new f.h({date:new f.f("",[f.v.required]),startTime:new f.f("",[f.v.required]),endTime:new f.f("",[f.v.required])}),this.dateForm.valueChanges.subscribe((function(t){e.checkStartTime(t.startTime),e.checkEndTime(t.endTime),e.coordOffline.emit(e.coordinates),e.status.emit(e.dateForm.valid),e.datesForm.emit(t)}))}},{key:"checkIfAllDay",value:function(e){e.checked?(this.dateForm.get("startTime").disable(),this.dateForm.get("endTime").disable()):(this.dateForm.get("startTime").enable(),this.dateForm.get("endTime").enable())}},{key:"ngOnChanges",value:function(){this.check&&this.dateForm.markAllAsTouched()}},{key:"checkIfOnline",value:function(e){e.checked?this.dateForm.addControl("onlineLink",new f.f("",[f.v.required,f.v.pattern(/^$|^https?:\/\//)])):this.dateForm.removeControl("onlineLink")}},{key:"checkIfOffline",value:function(e){var t=this;e.checked?(this.isOfline=!0,this.dateForm.addControl("place",new f.f("",[f.v.required])),setTimeout((function(){return t.setPlaceAutocomplete()}),0)):(this.isOfline=!1,this.coordinates.latitude=null,this.coordinates.longitude=null,this.coordOffline.emit(this.coordinates),this.autocomplete.unbindAll(),this.dateForm.removeControl("place"))}},{key:"setPlaceAutocomplete",value:function(){var e=this;this.mapsAPILoader.load().then((function(){e.autocomplete=new google.maps.places.Autocomplete(e.placesRef.nativeElement,e.regionOptions),e.autocomplete.addListener("place_changed",(function(){var t=e.autocomplete.getPlace();e.coordinates.latitude=t.geometry.location.lat(),e.coordinates.longitude=t.geometry.location.lng(),e.coordOffline.emit(e.coordinates),e.dateForm.patchValue({place:t.formatted_address})}))}))}},{key:"fillTimeArray",value:function(){for(var e=0;e<24;e++)this.timeArr.push(e+" : 00"),this.timeArrStart.push(e+" : 00"),this.timeArrEnd.push(e+" : 00")}},{key:"checkEndTime",value:function(e){if(e){var t=e.split(":");this.timeArrStart=_toConsumableArray(this.timeArr.slice(0,+t[0]))}}},{key:"checkStartTime",value:function(e){if(e){var t=e.split(":");this.timeArrEnd=23==+t[0]?["23 : 59"]:_toConsumableArray(this.timeArr.slice(+t[0]+1))}}}]),e}();G.ctorParameters=function(){return[{type:m.c}]},Object(a.__decorate)([Object(i.Input)()],G.prototype,"check",void 0),Object(a.__decorate)([Object(i.Output)()],G.prototype,"status",void 0),Object(a.__decorate)([Object(i.Output)()],G.prototype,"datesForm",void 0),Object(a.__decorate)([Object(i.Output)()],G.prototype,"coordOffline",void 0),Object(a.__decorate)([Object(i.ViewChild)("placesRef")],G.prototype,"placesRef",void 0),G=Object(a.__decorate)([Object(i.Component)({selector:"app-event-date-time-picker",template:Object(a.__importDefault)(n("B6en")).default,styles:[Object(a.__importDefault)(n("7Y0F")).default]})],G);var N=function(){function e(t){_classCallCheck(this,e),this.mapsAPILoader=t,this.location=new i.EventEmitter,this.regionOptions={types:["(regions)"],componentRestrictions:{country:"UA"}}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isPlaceChoosed=!1,this.mapDeactivate=!1,this.mapsAPILoader.load().then((function(){e.geoCoder=new google.maps.Geocoder}))}},{key:"onMapReady",value:function(e){this.map=e,this.setUserLocation()}},{key:"showCurLocation",value:function(){this.setUserLocation()}},{key:"setUserLocation",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.mapDeactivate?e.map.setCenter({lat:t.coords.latitude,lng:t.coords.longitude}):e.map.setCenter({lat:49.84579567734425,lng:24.025124653312258})}))}},{key:"addMarker",value:function(e){if(!this.isPlaceChoosed){this.location.emit(e);var t={location:{lat:e.coords.lat,lng:e.coords.lng},animation:"DROP"};this.getAddress(e.coords.lat,e.coords.lng),this.eventPlace=t,this.isPlaceChoosed=!0}}},{key:"markerOver",value:function(e){this.markerContent=this.adress,e.animation="BOUNCE"}},{key:"markerOut",value:function(e){this.markerContent="",e.animation=""}},{key:"deletePlace",value:function(){this.eventPlace=null,this.isPlaceChoosed=!1,this.adress=""}},{key:"getAddress",value:function(e,t){var n=this;this.geoCoder.geocode({location:{lat:e,lng:t}},(function(e,t){"OK"===t?e[0]?n.adress=e[0].formatted_address:window.alert("No results found"):window.alert("Geocoder failed due to: "+t)}))}}]),e}();N.ctorParameters=function(){return[{type:m.c}]},Object(a.__decorate)([Object(i.Output)()],N.prototype,"location",void 0),N=Object(a.__decorate)([Object(i.Component)({selector:"app-map-event",template:Object(a.__importDefault)(n("gSny")).default,styles:[Object(a.__importDefault)(n("98Gv")).default]})],N);var U=function(){function e(){_classCallCheck(this,e),this.isImageTypeError=!1,this.dragAndDropLabel="+",this.imgArray=[],this.imagesCount=5,this.images=[],this.imageCount=0,this.imgArrayOutput=new i.EventEmitter}return _createClass(e,[{key:"ngOnInit",value:function(){this.initImages()}},{key:"initImages",value:function(){for(var e=0;e<this.imagesCount;e++)this.images.push({src:null,label:this.dragAndDropLabel,isLabel:!1});this.images[0].isLabel=!0}},{key:"filesDropped",value:function(e){var t=e[0].file;this.transferFile(t)}},{key:"transferFile",value:function(e){var t=this;if(!this.isImageTypeError){var n=new FileReader;this.imgArray.push(e),this.imgArrayOutput.emit(this.imgArray),n.readAsDataURL(e),n.onload=function(){t.assignImage(n.result)}}}},{key:"assignImage",value:function(e){for(var t=0;t<this.images.length;t++)if(!this.images[t].src){this.images[t].src=e,this.images[t+1]&&(this.images[t+1].isLabel=!0),this.images[t].isLabel=!1,this.imageCount++;break}}},{key:"deleteImage",value:function(e){this.images.splice(e,1),this.imgArray.splice(e,1),this.imgArrayOutput.emit(this.imgArray),this.images.push({src:null,label:this.dragAndDropLabel,isLabel:!1}),this.imageCount--}},{key:"loadFile",value:function(e){var t=e.target.files[0];this.InputVar.nativeElement.value="",this.transferFile(t)}}]),e}();Object(a.__decorate)([Object(i.ViewChild)("takeInput")],U.prototype,"InputVar",void 0),Object(a.__decorate)([Object(i.Output)()],U.prototype,"imgArrayOutput",void 0),U=Object(a.__decorate)([Object(i.Component)({selector:"app-images-container",template:Object(a.__importDefault)(n("7+5l")).default,styles:[Object(a.__importDefault)(n("QDJE")).default]})],U);var B=n("7itd"),V=function e(){_classCallCheck(this,e)};function Z(e){return new s.a(e,"./assets/i18n/",".json")}V=Object(a.__decorate)([Object(i.NgModule)({declarations:[R,M,T,G,N,U],imports:[f.t,B.GooglePlaceModule,o.c,z,l.a,d.c,u.b,k.a,m.a,m.a.forRoot({apiKey:h.a.apiMapKey,libraries:["places"]}),c.e,H.l,p.b,g.a,v.a,b.a,r.b.forChild({loader:{provide:r.a,useFactory:Z,deps:[O.b]},isolate:!0}),y.a.forRoot()],exports:[r.b]})],V)},tg6x:function(e,t,n){"use strict";n.r(t),t.default='<app-spinner *ngIf="isPosting"></app-spinner>\n<div *ngIf="!isPosting" class="event-container">\n  <a [routerLink]="[\'/events\']">\n    <div class="edit-news">back</div>\n  </a>\n  <div class="event-header">\n    <h3>Create Event</h3>\n    <p>\n      Please provide as much details as you can - place and time of event, the goal of gathering etc. You can come back and update event\n      anytime after publishing\n    </p>\n  </div>\n  <div class="event-main">\n    <mat-card class="event-main-block left">\n      <div class="main-title">\n        <div class="title-input">\n          <div class="title-wrapper">\n            <mat-label>Enter name for Event</mat-label>\n            <mat-label>{{ titleForm.value.length }}/70</mat-label>\n          </div>\n          <mat-form-field appearance="outline" class="event-input">\n            <mat-label>Event name up to 70 symbols.</mat-label>\n            <input matInput placeholder="title" [formControl]="titleForm" />\n          </mat-form-field>\n        </div>\n        <div class="duration-choice">\n          <mat-label>Duration</mat-label>\n          <mat-form-field appearance="outline" class="date-item">\n            <mat-select (selectionChange)="setDateCount($event)">\n              <mat-option *ngFor="let date of dateArrCount" [value]="date">\n                {{ date }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>\n      </div>\n\n      <div class="dateContainer">\n        <div *ngFor="let date of dates; index as i" class="dateEvent">\n          <span class="date-day">{{ i + 1 }} day</span>\n          <div class="date-event-block">\n            <app-event-date-time-picker\n              (datesForm)="checkForm($event, i)"\n              (coordOffline)="setCoordsOnlOff($event, i)"\n              (status)="checkStatus($event, i)"\n              [check]="date.check"\n            ></app-event-date-time-picker>\n          </div>\n        </div>\n      </div>\n\n      <div class="textarea-wrapper">\n        <h3 class="textarea-title">Events Description</h3>\n        <div [ngClass]="contentValid || checkAfterSend ? \'content\' : \'content content-error\'">\n          <quill-editor\n            class="editor"\n            [modules]="quillModules"\n            placeholder="{{ \'create-news.content-placeholder\' | translate }}"\n            (onEditorChanged)="changedEditor($event)"\n          ></quill-editor>\n        </div>\n        <p class="textarea-description">{{ \'create-news.content-tooltip\' | translate }}</p>\n      </div>\n    </mat-card>\n    <mat-card class="event-main-block right">\n      <app-images-container (imgArrayOutput)="getImageTosend($event)"></app-images-container>\n\n      <div class="buttons-container">\n        <mat-label>Initiative type</mat-label>\n        <div>\n          <ul class="ul-eco-buttons" aria-label="filter by items">\n            <li *ngFor="let filter of filters">\n              <a\n                role="button"\n                [attr.aria-pressed]="filter.isActive"\n                class="custom-chip global-tag"\n                [ngClass]="{ \'global-tag-clicked\': filter.isActive }"\n                tabindex="0"\n                (click)="checkTab(filter)"\n              >\n                <span class="text">{{ filter.name | translate }}</span>\n                <div [ngClass]="{ \'global-tag-close-icon\': filter.isActive }"></div>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class="buttons-container">\n        <mat-label>Event type</mat-label>\n        <div class="flex-container">\n          <a\n            role="button"\n            class="custom-chip global-tag"\n            [ngClass]="{ \'global-tag-clicked\': isOpen }"\n            tabindex="0"\n            (click)="changeToOpen()"\n          >\n            <span class="text">open</span>\n            <div [ngClass]="{ \'global-tag-close-icon\': isOpen }"></div>\n          </a>\n          <a\n            role="button"\n            class="custom-chip global-tag"\n            [ngClass]="{ \'global-tag-clicked\': !isOpen }"\n            tabindex="0"\n            (click)="changeToClose()"\n          >\n            <span class="text">close</span>\n            <div [ngClass]="{ \'global-tag-close-icon\': !isOpen }"></div>\n          </a>\n        </div>\n      </div>\n\n      <mat-form-field appearance="fill">\n        <mat-label>Invite</mat-label>\n        <select matNativeControl required>\n          <option value="All">All</option>\n          <option value="Frends">Frends</option>\n        </select>\n      </mat-form-field>\n    </mat-card>\n  </div>\n\n  <div class="submit-container">\n    <button mat-raised-button class="button" (click)="escapeFromCreateEvent()">Cancel</button>\n    <button mat-raised-button class="secondary-global-button">Preview</button>\n    <button mat-raised-button class="primary-global-button" (click)="onSubmit()">Publish</button>\n  </div>\n</div>\n'}}]);